function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7UCR":function(e,t,n){"use strict";n.r(t),n.d(t,"FrontendModule",(function(){return ft}));var i=n("ofXK"),a=n("tyNb"),r=n("tQXo"),c=n("jraZ"),o=n("fXoL"),l=n("ypjD"),b=n("aYsf"),s=n("13Ll"),d=n("lQeB");function u(e,t){if(1&e&&(o.Rb(0,"li",18),o.Rb(1,"a",4),o.Nb(2,"i",19),o.Rb(3,"span",6),o.tc(4,"Avilablity"),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.bc();o.gc("routerLink","avilablity/",null==n.allService[0]?null:n.allService[0]._id,"")}}function f(e,t){if(1&e&&(o.Rb(0,"li",18),o.Rb(1,"a",4),o.Nb(2,"i",20),o.Rb(3,"span",6),o.tc(4,"Appointment"),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.bc();o.gc("routerLink","appointment/",null==n.allService[0]?null:n.allService[0]._id,"")}}var v,p,h,m,g=((h=function(){function e(t,n,i){_classCallCheck(this,e),this.themeChangeService=t,this.bs=n,this.avaliabiltyReloadService=i,this.showAvailablity=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.theme=localStorage.getItem("theme"),this.themeChange(),this.userId=this.bs.token().id,this.allServiceOfUser(),this.AvaliabiltyReload()}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"allServiceOfUser",value:function(){var e=this;this.bs.allServiceOfUser({userId:this.userId}).subscribe((function(t){e.allService=t,t.length>0&&(e.showAvailablity=!0)}),(function(e){console.log(e)}))}},{key:"AvaliabiltyReload",value:function(){var e=this;this.avaliabiltyReloadService.ReloadService$.subscribe((function(t){1==t&&e.allServiceOfUser()}))}}]),e}()).\u0275fac=function(e){return new(e||h)(o.Mb(b.a),o.Mb(l.a),o.Mb(d.a))},h.\u0275cmp=o.Gb({type:h,selectors:[["app-sidebar"]],inputs:{hideSidebar:"hideSidebar"},decls:35,vars:7,consts:[["id","sidebar"],[1,"sidebar-content-wrapper","sidebar-offcanvas"],[1,"nav"],["routerLink","home","routerLinkActive","active",1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],["aria-hidden","true",1,"fa","fa-cube","menu-icon"],[1,"menu-title"],["routerLink","package","routerLinkActive","active",1,"nav-item"],["aria-hidden","true",1,"fa","fa-product-hunt","menu-icon"],["routerLink","service","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-bullhorn","menu-icon"],["routerLink","calendar","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-calendar-check-o","menu-icon"],["class","nav-item","routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLink","my-appointment","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-sticky-note","menu-icon"],["routerLink","profile","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-user-circle-o","menu-icon"],["routerLinkActive","active",1,"nav-item",3,"routerLink"],[1,"fa","fa-sticky-note-o","menu-icon"],[1,"fa","fa-telegram","menu-icon"]],template:function(e,t){1&e&&(o.Rb(0,"nav",0),o.Rb(1,"div",1),o.Rb(2,"ul",2),o.Rb(3,"li",3),o.Rb(4,"a",4),o.Nb(5,"i",5),o.Rb(6,"span",6),o.tc(7,"Dashboard"),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"li",7),o.Rb(9,"a",4),o.Nb(10,"i",8),o.Rb(11,"span",6),o.tc(12,"Package"),o.Qb(),o.Qb(),o.Qb(),o.Rb(13,"li",9),o.Rb(14,"a",4),o.Nb(15,"i",10),o.Rb(16,"span",6),o.tc(17,"Service"),o.Qb(),o.Qb(),o.Qb(),o.Rb(18,"li",11),o.Rb(19,"a",4),o.Nb(20,"i",12),o.Rb(21,"span",6),o.tc(22,"Calendar"),o.Qb(),o.Qb(),o.Qb(),o.rc(23,u,5,1,"li",13),o.rc(24,f,5,1,"li",13),o.Rb(25,"li",14),o.Rb(26,"a",4),o.Nb(27,"i",15),o.Rb(28,"span",6),o.tc(29,"My Appointment"),o.Qb(),o.Qb(),o.Qb(),o.Rb(30,"li",16),o.Rb(31,"a",4),o.Nb(32,"i",17),o.Rb(33,"span",6),o.tc(34,"Profile"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.Cb("sidebar sidebar-",t.theme,""),o.zb(1),o.Db("active",t.hideSidebar),o.zb(22),o.ec("ngIf",t.showAvailablity),o.zb(1),o.ec("ngIf",t.showAvailablity))},directives:[a.c,a.d,i.j],styles:[""]}),h),R=((p=function(){function e(t,n,i,a){_classCallCheck(this,e),this.router=t,this.bs=n,this.themeChangeService=i,this.userdetailRefreshService=a,this.hideSidebar=!1,this.user=new r.a,this.userDetail=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.user=this.bs.token(),this.getUserDetail(),this.refreshUserDetail()}},{key:"getUserDetail",value:function(){var e=this;this.bs.userById(this.user.id).subscribe((function(t){e.userDetail=t}),(function(e){console.log(e)}))}},{key:"refreshUserDetail",value:function(){var e=this;this.userdetailRefreshService.detailRefresh$.subscribe((function(t){t&&e.getUserDetail()}))}},{key:"logout",value:function(){localStorage.removeItem("token"),this.router.navigate(["login"])}},{key:"toggleSidebar",value:function(){this.hideSidebar=!this.hideSidebar}},{key:"addTheme",value:function(e){localStorage.setItem("theme",e),this.themeChangeService.setThemeLoad(e)}}]),e}()).\u0275fac=function(e){return new(e||p)(o.Mb(a.b),o.Mb(l.a),o.Mb(b.a),o.Mb(s.a))},p.\u0275cmp=o.Gb({type:p,selectors:[["app-user"]],decls:116,vars:7,consts:[[1,"container-scroller"],[3,"hideSidebar"],[1,"container-fluid","page-body-wrapper"],[1,"navbar","p-0","d-flex","flex-row"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],["type","button","data-toggle","minimize",1,"navbar-toggler","navbar-toggler","align-self-center",3,"click"],[1,"ti-align-left"],[1,"navbar-brand-wrapper","d-flex","align-items-center","justify-content-center"],["href","index.html",1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],["href","index.html",1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-nav","navbar-nav-right","ml-auto"],[1,"nav-item","nav-search","d-none","d-sm-flex"],[1,"nav-link","d-flex","justify-content-center","align-items-center"],["type","text","id","search-field","placeholder","Search...",1,"form-control","hidden"],["id","search-icon",1,"ti-search","mx-0"],[1,"nav-item","dropdown"],["id","messageDropdown","href","#","data-toggle","dropdown",1,"nav-link","count-indicator","dropdown-toggle","d-flex","justify-content-center","align-items-center"],[1,"ti-comment","mx-0"],[1,"count"],["aria-labelledby","messageDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown","preview-list"],[1,"mb-0","font-weight-normal","float-left","dropdown-header"],[1,"dropdown-item","preview-item"],[1,"preview-thumbnail"],["src","https://via.placeholder.com/36x36","alt","image",1,"profile-pic"],[1,"preview-item-content","flex-grow"],[1,"preview-subject","ellipsis","font-weight-normal"],[1,"font-weight-light","small-text","text-muted","mb-0"],["id","notificationDropdown","href","#","data-toggle","dropdown",1,"nav-link","count-indicator","dropdown-toggle","d-flex","align-items-center","justify-content-center"],[1,"ti-bell","mx-0"],["aria-labelledby","notificationDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown","preview-list"],[1,"preview-icon","bg-gradient-success"],[1,"ti-info","mx-0"],[1,"preview-item-content"],[1,"preview-subject","font-weight-normal"],[1,"font-weight-light","small-text","mb-0","text-muted"],[1,"preview-icon","bg-gradient-warning"],[1,"ti-settings","mx-0"],[1,"preview-icon","bg-gradient-info"],[1,"ti-user","mx-0"],[1,"nav-item","nav-profile","dropdown"],["href","#","data-toggle","dropdown","id","profileDropdown",1,"nav-link"],["alt","profile",3,"src"],["aria-labelledby","profileDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown"],["routerLink","/user/profile",1,"dropdown-item"],[1,"fa","fa-user","text-danger"],[1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-envelope","text-danger"],[1,"dropdown-item",3,"click"],[1,"ti-new-window","text-primary"],[1,"bg-gradient-success","box",3,"click"],[1,"bg-gradient-primary","box",3,"click"],[1,"bg-gradient-info","box",3,"click"],[1,"bg-gradient-warning","box",3,"click"],[1,"bg-gradient-danger","box",3,"click"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-lg-none","align-self-center"],[1,"ti-menu",3,"click"],[1,"main-panel"],[1,"content-wrapper"],[1,"footer"],[1,"d-sm-flex","justify-content-center","justify-content-sm-between"],[1,"text-center","text-sm-left","d-block","d-sm-inline-block"],["href","https://www.urbanui.com/","target","_blank",1,"ml-1"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"ti-heart","text-danger","ml-1"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Nb(1,"app-sidebar",1),o.Rb(2,"div",2),o.Rb(3,"nav",3),o.Rb(4,"div",4),o.Rb(5,"button",5),o.Zb("click",(function(){return t.toggleSidebar()})),o.Nb(6,"span",6),o.Qb(),o.Rb(7,"div",7),o.Rb(8,"a",8),o.Nb(9,"img",9),o.Qb(),o.Rb(10,"a",10),o.Nb(11,"img",11),o.Qb(),o.Qb(),o.Rb(12,"ul",12),o.Rb(13,"li",13),o.Rb(14,"div",14),o.Nb(15,"input",15),o.Nb(16,"i",16),o.Qb(),o.Qb(),o.Rb(17,"li",17),o.Rb(18,"a",18),o.Nb(19,"i",19),o.Nb(20,"span",20),o.Qb(),o.Rb(21,"div",21),o.Rb(22,"p",22),o.tc(23,"Messages"),o.Qb(),o.Rb(24,"a",23),o.Rb(25,"div",24),o.Nb(26,"img",25),o.Qb(),o.Rb(27,"div",26),o.Rb(28,"h6",27),o.tc(29,"David Grey "),o.Qb(),o.Rb(30,"p",28),o.tc(31," The meeting is cancelled "),o.Qb(),o.Qb(),o.Qb(),o.Rb(32,"a",23),o.Rb(33,"div",24),o.Nb(34,"img",25),o.Qb(),o.Rb(35,"div",26),o.Rb(36,"h6",27),o.tc(37,"Tim Cook "),o.Qb(),o.Rb(38,"p",28),o.tc(39," New product launch "),o.Qb(),o.Qb(),o.Qb(),o.Rb(40,"a",23),o.Rb(41,"div",24),o.Nb(42,"img",25),o.Qb(),o.Rb(43,"div",26),o.Rb(44,"h6",27),o.tc(45," Johnson "),o.Qb(),o.Rb(46,"p",28),o.tc(47," Upcoming board meeting "),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(48,"li",17),o.Rb(49,"a",29),o.Nb(50,"i",30),o.Nb(51,"span",20),o.Qb(),o.Rb(52,"div",31),o.Rb(53,"p",22),o.tc(54,"Notifications"),o.Qb(),o.Rb(55,"a",23),o.Rb(56,"div",24),o.Rb(57,"div",32),o.Nb(58,"i",33),o.Qb(),o.Qb(),o.Rb(59,"div",34),o.Rb(60,"h6",35),o.tc(61,"Application Error"),o.Qb(),o.Rb(62,"p",36),o.tc(63," Just now "),o.Qb(),o.Qb(),o.Qb(),o.Rb(64,"a",23),o.Rb(65,"div",24),o.Rb(66,"div",37),o.Nb(67,"i",38),o.Qb(),o.Qb(),o.Rb(68,"div",34),o.Rb(69,"h6",35),o.tc(70,"Settings"),o.Qb(),o.Rb(71,"p",36),o.tc(72," Private message "),o.Qb(),o.Qb(),o.Qb(),o.Rb(73,"a",23),o.Rb(74,"div",24),o.Rb(75,"div",39),o.Nb(76,"i",40),o.Qb(),o.Qb(),o.Rb(77,"div",34),o.Rb(78,"h6",35),o.tc(79,"New user registration"),o.Qb(),o.Rb(80,"p",36),o.tc(81," 2 days ago "),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(82,"li",41),o.Rb(83,"a",42),o.Nb(84,"img",43),o.Qb(),o.Rb(85,"div",44),o.Rb(86,"a",45),o.Nb(87,"i",46),o.tc(88),o.Qb(),o.Rb(89,"a",47),o.Nb(90,"i",48),o.tc(91),o.Qb(),o.Rb(92,"a",49),o.Zb("click",(function(){return t.logout()})),o.Nb(93,"i",50),o.tc(94," Logout "),o.Qb(),o.Rb(95,"a",47),o.Rb(96,"div",51),o.Zb("click",(function(){return t.addTheme("success")})),o.Qb(),o.Rb(97,"div",52),o.Zb("click",(function(){return t.addTheme("primary")})),o.Qb(),o.Rb(98,"div",53),o.Zb("click",(function(){return t.addTheme("info")})),o.Qb(),o.Rb(99,"div",54),o.Zb("click",(function(){return t.addTheme("warning")})),o.Qb(),o.Rb(100,"div",55),o.Zb("click",(function(){return t.addTheme("danger")})),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(101,"button",56),o.Rb(102,"span",57),o.Zb("click",(function(){return t.toggleSidebar()})),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(103,"div",58),o.Rb(104,"div",59),o.Nb(105,"router-outlet"),o.Qb(),o.Rb(106,"footer",60),o.Rb(107,"div",61),o.Rb(108,"span",62),o.tc(109,"Copyright \xa9 2019"),o.Rb(110,"a",63),o.tc(111,"Urbanui"),o.Qb(),o.tc(112,". All rights reserved."),o.Qb(),o.Rb(113,"span",64),o.tc(114,"Designed by: UrbanUI"),o.Nb(115,"i",65),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.Db("sidebar-icon-only",t.hideSidebar),o.zb(1),o.ec("hideSidebar",t.hideSidebar),o.zb(83),o.ec("src",t.userDetail.image,o.nc),o.zb(4),o.wc(" ",t.userDetail.firstName," ",t.userDetail.lastName," "),o.zb(3),o.vc(" ",t.userDetail.email," "))},directives:[g,a.e,a.g],styles:["app-sidebar[_ngcontent-%COMP%]{z-index:100}.box[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin:1px}"]}),p),y=((v=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=o.Gb({type:v,selectors:[["app-dashboard"]],decls:2,vars:0,consts:[[2,"color","white"]],template:function(e,t){1&e&&(o.Rb(0,"h2",0),o.tc(1,"dashboard works!"),o.Qb())},styles:[""]}),v),Q=n("QNcV"),k=((m=function(){function e(t,n){_classCallCheck(this,e),this.as=t,this.router=n,this.role=this.as.logedIn(),this.as.chkAuthariseUser({})}return _createClass(e,[{key:"canActivate",value:function(){return"user"==this.role||(localStorage.removeItem("token"),this.router.navigate(["/login"]),!1)}},{key:"canActivateChild",value:function(){return"user"==this.role||(localStorage.removeItem("token"),this.router.navigate(["/login"]),!1)}}]),e}()).\u0275fac=function(e){return new(e||m)(o.Vb(Q.a),o.Vb(a.b))},m.\u0275prov=o.Ib({token:m,factory:m.\u0275fac,providedIn:"root"}),m),w=n("PSD3"),S=n.n(w),C=n("wd/R"),x=n("WA2H"),M=n("9Egf"),D=n("3Pt+"),O=["close"];function I(e,t){if(1&e){var n=o.Sb();o.Rb(0,"button",63),o.Zb("click",(function(){o.lc(n);var e=o.bc().$implicit;return o.bc().startBooking(e._id)})),o.Nb(1,"i",61),o.tc(2," Start Booking"),o.Qb()}}function z(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",2),o.Rb(1,"div",3),o.Rb(2,"div",4),o.Rb(3,"div",5),o.Rb(4,"div",45),o.Nb(5,"br"),o.Rb(6,"h4",46),o.Nb(7,"i",14),o.tc(8),o.Qb(),o.Rb(9,"p",47),o.tc(10),o.Rb(11,"span",48),o.Rb(12,"span",49),o.tc(13,"Max"),o.Qb(),o.tc(14," \xa0"),o.Nb(15,"i",50),o.tc(16),o.Qb(),o.Qb(),o.Rb(17,"p",51),o.tc(18),o.Qb(),o.Rb(19,"p",52),o.tc(20),o.Rb(21,"span",48),o.Rb(22,"span",49),o.tc(23,"@"),o.Qb(),o.tc(24," \xa0"),o.Nb(25,"i",34),o.tc(26),o.Qb(),o.Qb(),o.Rb(27,"p",53),o.Rb(28,"button",54),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().edit(e)})),o.Nb(29,"i",55),o.tc(30," Edit"),o.Qb(),o.tc(31," \xa0 "),o.Rb(32,"button",56),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().delete(e._id)})),o.Nb(33,"i",57),o.tc(34," Delete"),o.Qb(),o.tc(35," \xa0 "),o.Rb(36,"button",58),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().duplicate(e)})),o.Nb(37,"i",59),o.tc(38," Duplicate"),o.Qb(),o.tc(39,"\xa0 "),o.Rb(40,"button",60),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().avilablity(e._id)})),o.Nb(41,"i",61),o.tc(42," Avilablity"),o.Qb(),o.tc(43,"\xa0 "),o.rc(44,I,3,0,"button",62),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=t.$implicit;o.zb(8),o.vc("\xa0\xa0 ",null==i?null:i.name,""),o.zb(2),o.vc("Duration : ",i.duration," Minute "),o.zb(6),o.vc(" ",i.maxAllowed,""),o.zb(2),o.vc("Resting Period : ",i.rest," Minute after each service "),o.zb(2),o.vc("Total Period : ",i.rest+i.duration," Minute "),o.zb(6),o.vc(" ",i.price,""),o.zb(18),o.ec("ngIf",!i.started)}}function N(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required"),o.Qb())}function P(e,t){if(1&e&&(o.Rb(0,"div",20),o.Rb(1,"label",21),o.tc(2,"Duration"),o.Qb(),o.Rb(3,"div",22),o.Rb(4,"div",31),o.Rb(5,"label",65),o.tc(6),o.Qb(),o.Rb(7,"div",32),o.Rb(8,"span",33),o.tc(9,"Minuite"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.bc();o.zb(6),o.uc(n.service.duration)}}function _(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required"),o.Qb())}function A(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"Total (Duration + Resting Period) can not be Greater Than 1440 minute (1 day ) "),o.Qb())}function T(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"Negative Value is not alloewd "),o.Qb())}function E(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",20),o.Rb(1,"label",21),o.tc(2,"Duration"),o.Qb(),o.Rb(3,"div",22),o.Rb(4,"div",31),o.Rb(5,"input",66,67),o.Zb("change",(function(){o.lc(n);var e=o.ic(6),t=o.bc();return t.validateDuration(e.value,t.rest.value)})),o.Qb(),o.Rb(7,"div",32),o.Rb(8,"span",33),o.tc(9,"Minuite"),o.Qb(),o.Qb(),o.Qb(),o.rc(10,_,2,0,"span",25),o.rc(11,A,2,0,"span",25),o.rc(12,T,2,0,"span",25),o.Qb(),o.Qb()}if(2&e){var i=o.ic(6),a=o.bc();o.zb(5),o.ec("ngModel",a.service.duration),o.zb(5),o.ec("ngIf",(null==i?null:i.touched)&&(null==i||null==i.errors?null:i.errors.required)),o.zb(1),o.ec("ngIf",(null==i?null:i.touched)&&a.maDurationErr&&!(null!=i&&null!=i.errors&&i.errors.required)&&i.value>0),o.zb(1),o.ec("ngIf",(null==i?null:i.touched)&&i.value<0)}}function F(e,t){if(1&e&&(o.Rb(0,"div",20),o.Rb(1,"label",21),o.tc(2,"Resting Period"),o.Qb(),o.Rb(3,"div",22),o.Rb(4,"div",31),o.Rb(5,"label",65),o.tc(6),o.Qb(),o.Rb(7,"div",32),o.Rb(8,"span",33),o.tc(9,"Minuite"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.bc();o.zb(6),o.uc(n.service.rest)}}function U(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required "),o.Qb())}function L(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"Negative Value is not alloewd "),o.Qb())}function q(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",20),o.Rb(1,"label",21),o.tc(2,"Resting Period"),o.Qb(),o.Rb(3,"div",22),o.Rb(4,"div",31),o.Rb(5,"input",68,69),o.Zb("change",(function(){o.lc(n);var e=o.ic(6),t=o.bc();return t.validateDuration(t.duration.value,e.value)})),o.Qb(),o.Rb(7,"div",32),o.Rb(8,"span",33),o.tc(9,"Minuite"),o.Qb(),o.Qb(),o.Qb(),o.rc(10,U,2,0,"span",25),o.rc(11,L,2,0,"span",25),o.Qb(),o.Qb()}if(2&e){var i=o.ic(6),a=o.bc();o.zb(5),o.ec("ngModel",a.service.rest),o.zb(5),o.ec("ngIf",(null==i?null:i.touched)&&(null==i||null==i.errors?null:i.errors.required)),o.zb(1),o.ec("ngIf",(null==i?null:i.touched)&&i.value<0)}}function Z(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required "),o.Qb())}function B(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1," Before Date are not allow"),o.Qb())}function G(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1," End Date must be greater than start Date"),o.Qb())}function Y(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required "),o.Qb())}function j(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required "),o.Qb())}function $(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"At least one person is must "),o.Qb())}function H(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"This field is required "),o.Qb())}function V(e,t){1&e&&(o.Rb(0,"span",64),o.tc(1,"At least 30 day is must must be allow in advance "),o.Qb())}var W,J=((W=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.router=t,this.bs=n,this.os=i,this.themeChangeService=a,this.avaliabiltyReloadService=r,this.maxPersonErr=!1,this.maDurationErr=!1,this.maxAdvanceBookingDayErr=!1,this.closeModel=!1,this.today=C().format("YYYY-MM-DD"),this.service=new x.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.userId=this.bs.token().id,this.allServiceOfUser(),this.theme=localStorage.getItem("theme"),this.themeChange(),this.activePackageHistory()}},{key:"activePackageHistory",value:function(){var e=this;console.log(this.userId),this.bs.activePackageHistory({id:this.userId}).subscribe((function(t){e.maxAllowedService=t.packageId.noOfService}),(function(e){console.log(e)}))}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"allServiceOfUser",value:function(){var e=this;this.bs.allServiceOfUser({userId:this.userId}).subscribe((function(t){e.allService=t,e.noOfService=t.length}),(function(e){console.log(e)}))}},{key:"addService",value:function(){var e=this;if(this.noOfService<this.maxAllowedService){var t=new x.a;t.duration=50,t.rest=10,t.price=100,t.name="New Service",t.userId=this.userId,t.maxAllowed=1,t.startDate=this.today,t.maxAdvanceBookingDay=30,this.bs.addService(t).subscribe((function(t){e.allServiceOfUser(),e.AvaliabiltyReload(),e.os.swall("success",t.message)}),(function(e){console.log(e)}))}else this.os.swall("error","You have used all Your Service. Please upgrade your plan to create more Service ")}},{key:"updateService",value:function(e){var t=this;e.value.userId=this.service.userId,e.value._id=this.service._id,this.bs.updateService(e.value).subscribe((function(e){t.allServiceOfUser(),t.os.swall("success",e.message),t.closebtn.nativeElement.click()}),(function(e){console.log(e)}))}},{key:"edit",value:function(e){delete this.service,this.service=e}},{key:"delete",value:function(e){var t=this;S.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}}).then((function(n){n.value&&t.bs.deleteService({id:e}).subscribe((function(e){t.allServiceOfUser(),t.os.swall(e.type,e.message)}),(function(e){console.log(e)}))}))}},{key:"avilablity",value:function(e){this.router.navigate(["/user/avilablity/"+e])}},{key:"duplicate",value:function(e){var t=this;this.noOfService<this.maxAllowedService?(delete e._id,e.started=!1,this.bs.dupService(e).subscribe((function(e){t.allServiceOfUser(),t.os.swall("success",e.message)}),(function(e){console.log(e)}))):this.os.swall("error","You have used all Your Service. Please upgrade your plan to duplicate more Service ")}},{key:"validateMaxPerson",value:function(e){this.maxPersonErr=e<=0}},{key:"validatemaxAdvanceBookingDay",value:function(e){this.maxAdvanceBookingDayErr=e<30}},{key:"validateDuration",value:function(e,t){var n=e+t;console.log(n),this.maDurationErr=n>1440||t<0||e<0}},{key:"validateStartDate",value:function(e){var t=new Date(this.today),n=new Date(e);this.invalidStartDate=n.getTime()<t.getTime()}},{key:"validateEndDate",value:function(e,t){var n=new Date(t),i=new Date(e);this.invalidEndDate=i.getTime()>n.getTime()}},{key:"AvaliabiltyReload",value:function(){this.avaliabiltyReloadService.sendReload(!0)}},{key:"startBooking",value:function(e){var t=this;this.bs.updateService({_id:e,started:!0}).subscribe((function(e){t.allServiceOfUser(),t.os.swall("success","Booking For this Service has been started")}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||W)(o.Mb(a.b),o.Mb(l.a),o.Mb(M.a),o.Mb(b.a),o.Mb(d.a))},W.\u0275cmp=o.Gb({type:W,selectors:[["app-service"]],viewQuery:function(e,t){var n;1&e&&o.pc(O,!0),2&e&&o.hc(n=o.ac())&&(t.closebtn=n.first)},decls:89,vars:28,consts:[[1,"row"],["class","col-md-4 grid-margin stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"d-sm-flex","flex-row","flex-wrap","text-center","text-sm-left","align-items-center"],[3,"click"],[1,"fa","fa-plus-circle"],["id","myModel","tabindex","-1","role","dialog","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["model",""],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],[1,"fa","fa","fa-superpowers"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"forms-sample",3,"ngSubmit"],["tempForm","ngForm"],[1,"modal-body"],[1,"form-group","row"],["for","exampleInputUsername2",1,"col-sm-6","col-form-label"],[1,"col-sm-6"],["name","name","type","text","required","",1,"form-control",3,"ngModel"],["name","ngModel"],["class","code-help",4,"ngIf"],["class","form-group row",4,"ngIf"],["min","minDate","name","startDate","type","date","required","",1,"form-control",3,"ngModel","change"],["startDate","ngModel"],["min","minDate","name","endDate","type","date",1,"form-control",3,"ngModel","change"],["endDate","ngModel"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-inr"],["name","price","type","number","required","",1,"form-control",3,"ngModel"],["price","ngModel"],["name","maxAllowed","type","number","required","",1,"form-control",3,"ngModel","change"],["maxAllowed","ngModel"],["name","maxAdvanceBookingDay","type","number","required","",1,"form-control",3,"ngModel","change"],["maxAdvanceBookingDay","ngModel"],[1,"modal-footer"],["type","submit",3,"disabled"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary","btn-fw"],["close",""],[1,"ml-sm-3","ml-md-0","ml-xl-3","mt-2","mt-sm-0","mt-md-2","mt-xl-0"],[1,"mb-1"],[1,"mb-1","text-warning"],[1,"text-success","font-weight-bold","right"],[1,"text-danger"],[1,"fa","fa-users"],[1,"text-muted","mb-1"],[1,"text-info","mb-1"],[1,"border-top","pt-3","text-justify"],["data-toggle","modal","data-target","#myModel","type","button",1,"btn","btn-outline-info","btn-fw","mt-1",3,"click"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-outline-danger","btn-fw","mt-1",3,"click"],[1,"fa","fa-trash-o"],["type","button",1,"btn","btn-outline-primary","btn-fw","mt-1",3,"click"],[1,"fa","fa-copy"],["type","button",1,"btn","btn-outline-warning","btn-fw","mt-1",3,"click"],[1,"fa","fa-clipboard"],["type","button","class","btn btn-outline-info btn-fw mt-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-info","btn-fw","mt-1",3,"click"],[1,"code-help"],[1,"form-control"],["name","duration","type","number","required","",1,"form-control",3,"ngModel","change"],["duration","ngModel"],["name","rest","type","number","required","",1,"form-control",3,"ngModel","change"],["rest","ngModel"]],template:function(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",0),o.rc(1,z,45,7,"div",1),o.Rb(2,"div",2),o.Rb(3,"div",3),o.Rb(4,"div",4),o.Rb(5,"div",5),o.Rb(6,"h1",6),o.Zb("click",(function(){return t.addService()})),o.Nb(7,"i",7),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"div",8,9),o.Rb(10,"div",10),o.Rb(11,"div",11),o.Rb(12,"div",12),o.Rb(13,"h5",13),o.Nb(14,"i",14),o.tc(15),o.Qb(),o.Rb(16,"button",15),o.Rb(17,"span",16),o.tc(18,"\xd7"),o.Qb(),o.Qb(),o.Qb(),o.Rb(19,"form",17,18),o.Zb("ngSubmit",(function(){o.lc(n);var e=o.ic(20);return t.updateService(e)})),o.Rb(21,"div",19),o.Rb(22,"div",20),o.Rb(23,"label",21),o.tc(24,"Service Name"),o.Qb(),o.Rb(25,"div",22),o.Nb(26,"input",23,24),o.rc(28,N,2,0,"span",25),o.Qb(),o.Qb(),o.rc(29,P,10,1,"div",26),o.rc(30,E,13,4,"div",26),o.rc(31,F,10,1,"div",26),o.rc(32,q,12,3,"div",26),o.Rb(33,"div",20),o.Rb(34,"label",21),o.tc(35,"Start Date"),o.Qb(),o.Rb(36,"div",22),o.Rb(37,"input",27,28),o.Zb("change",(function(){o.lc(n);var e=o.ic(38);return t.validateStartDate(e.value)})),o.Qb(),o.rc(39,Z,2,0,"span",25),o.rc(40,B,2,0,"span",25),o.Qb(),o.Qb(),o.Rb(41,"div",20),o.Rb(42,"label",21),o.tc(43,"End Date"),o.Qb(),o.Rb(44,"div",22),o.Rb(45,"input",29,30),o.Zb("change",(function(){o.lc(n);var e=o.ic(38),i=o.ic(46);return t.validateEndDate(e.value,i.value)})),o.Qb(),o.rc(47,G,2,0,"span",25),o.Qb(),o.Qb(),o.Rb(48,"div",20),o.Rb(49,"label",21),o.tc(50,"Price"),o.Qb(),o.Rb(51,"div",22),o.Rb(52,"div",31),o.Rb(53,"div",32),o.Rb(54,"span",33),o.Nb(55,"i",34),o.Qb(),o.Qb(),o.Nb(56,"input",35,36),o.Qb(),o.rc(58,Y,2,0,"span",25),o.Qb(),o.Qb(),o.Rb(59,"div",20),o.Rb(60,"label",21),o.tc(61,"Max Allowed "),o.Qb(),o.Rb(62,"div",22),o.Rb(63,"div",31),o.Rb(64,"input",37,38),o.Zb("change",(function(){o.lc(n);var e=o.ic(65);return t.validateMaxPerson(e.value)})),o.Qb(),o.Rb(66,"div",32),o.Rb(67,"span",33),o.tc(68,"Person"),o.Qb(),o.Qb(),o.Qb(),o.rc(69,j,2,0,"span",25),o.rc(70,$,2,0,"span",25),o.Qb(),o.Qb(),o.Rb(71,"div",20),o.Rb(72,"label",21),o.tc(73,"Advance Day allow "),o.Qb(),o.Rb(74,"div",22),o.Rb(75,"div",31),o.Rb(76,"input",39,40),o.Zb("change",(function(){o.lc(n);var e=o.ic(77);return t.validatemaxAdvanceBookingDay(e.value)})),o.Qb(),o.Rb(78,"div",32),o.Rb(79,"span",33),o.tc(80,"day"),o.Qb(),o.Qb(),o.Qb(),o.rc(81,H,2,0,"span",25),o.rc(82,V,2,0,"span",25),o.Qb(),o.Qb(),o.Qb(),o.Rb(83,"div",41),o.Rb(84,"button",42),o.tc(85,"Update"),o.Qb(),o.Rb(86,"button",43,44),o.tc(88,"Close"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.ic(20),a=o.ic(27),r=o.ic(38),c=o.ic(46),l=o.ic(57),b=o.ic(65),s=o.ic(77);o.zb(1),o.ec("ngForOf",t.allService),o.zb(5),o.Cb("text-center text-",t.theme,""),o.zb(9),o.vc(" \xa0\xa0 ",a.value," "),o.zb(11),o.ec("ngModel",t.service.name),o.zb(2),o.ec("ngIf",(null==a?null:a.touched)&&(null==a||null==a.errors?null:a.errors.required)),o.zb(1),o.ec("ngIf",t.service.started),o.zb(1),o.ec("ngIf",!t.service.started),o.zb(1),o.ec("ngIf",t.service.started),o.zb(1),o.ec("ngIf",!t.service.started),o.zb(5),o.ec("ngModel",t.service.startDate),o.zb(2),o.ec("ngIf",(null==r?null:r.touched)&&(null==r||null==r.errors?null:r.errors.required)),o.zb(1),o.ec("ngIf",(null==r?null:r.touched)&&t.invalidStartDate),o.zb(5),o.ec("ngModel",t.service.endDate),o.zb(2),o.ec("ngIf",(null==c?null:c.touched)&&t.invalidEndDate),o.zb(9),o.ec("ngModel",t.service.price),o.zb(2),o.ec("ngIf",(null==l?null:l.touched)&&(null==l||null==l.errors?null:l.errors.required)),o.zb(6),o.ec("ngModel",t.service.maxAllowed),o.zb(5),o.ec("ngIf",(null==b?null:b.touched)&&(null==b||null==b.errors?null:b.errors.required)),o.zb(1),o.ec("ngIf",(null==b?null:b.touched)&&t.maxPersonErr&&!(null!=b&&null!=b.errors&&b.errors.required)),o.zb(6),o.ec("ngModel",t.service.maxAdvanceBookingDay),o.zb(5),o.ec("ngIf",(null==s?null:s.touched)&&(null==s||null==s.errors?null:s.errors.required)),o.zb(1),o.ec("ngIf",(null==s?null:s.touched)&&t.maxAdvanceBookingDayErr&&!(null!=s&&null!=s.errors&&s.errors.required)),o.zb(2),o.Cb("btn btn-outline-",t.theme," btn-fw"),o.ec("disabled",!i.valid||t.maxPersonErr||t.maDurationErr||t.invalidEndDate||t.invalidStartDate||t.maxAdvanceBookingDayErr)}},directives:[i.i,D.u,D.i,D.j,D.b,D.q,D.h,D.k,i.j,D.n],styles:[".right[_ngcontent-%COMP%]{float:right}.swal2-styled.swal2-confirm[_ngcontent-%COMP%]{background-color:#389466!important}i.fa.fa-plus-circle[_ngcontent-%COMP%]{font-size:176px;cursor:pointer}.text-center[_ngcontent-%COMP%]{text-align:center;width:100%}.ml[_ngcontent-%COMP%]{margin-left:8px}"]}),W),K=n("k8dl"),X=["close"];function ee(e,t){if(1&e&&(o.Rb(0,"div"),o.Rb(1,"p",38),o.tc(2),o.Qb(),o.Qb()),2&e){var n=t.$implicit;o.zb(2),o.vc("",n.name," ")}}function te(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",2),o.Rb(1,"div",3),o.Rb(2,"div",4),o.Rb(3,"div",33),o.Rb(4,"div",34),o.Rb(5,"h4",35),o.Nb(6,"i",13),o.tc(7),o.Qb(),o.Rb(8,"div",36),o.Rb(9,"p",37),o.tc(10,"Description"),o.Qb(),o.Rb(11,"p",38),o.tc(12),o.Qb(),o.Rb(13,"p",39),o.tc(14,"Service"),o.Qb(),o.rc(15,ee,3,1,"div",40),o.Qb(),o.Rb(16,"p",41),o.Rb(17,"button",42),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().edit(e)})),o.Nb(18,"i",43),o.tc(19," Edit"),o.Qb(),o.tc(20," \xa0 "),o.Rb(21,"button",44),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().delete(e._id)})),o.Nb(22,"i",45),o.tc(23," Delete"),o.Qb(),o.tc(24," \xa0 "),o.Rb(25,"button",46),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().duplicate(e)})),o.Nb(26,"i",47),o.tc(27," Duplicate"),o.Qb(),o.Rb(28,"button",48),o.Zb("click",(function(){o.lc(n);var e=t.$implicit;return o.bc().copyText("http://localhost:4200/calendar/"+e._id)})),o.Nb(29,"i",47),o.tc(30," Copy Link"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=t.$implicit;o.zb(7),o.vc("\xa0\xa0 ",i.name,""),o.zb(5),o.vc(" ",i.description,""),o.zb(3),o.ec("ngForOf",i.service)}}function ne(e,t){1&e&&(o.Rb(0,"span",49),o.tc(1,"This field is required"),o.Qb())}function ie(e,t){if(1&e&&(o.Rb(0,"div",19),o.Rb(1,"div",21),o.Rb(2,"div"),o.Rb(3,"label",50),o.Nb(4,"input",51),o.tc(5),o.Nb(6,"i",52),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e){var n=t.$implicit,i=o.bc();o.zb(2),o.Cb("form-check form-check-",i.theme,""),o.zb(2),o.fc("name",n._id),o.ec("ngModel",i.serviceModel(i.calendar.service,n._id)),o.zb(1),o.vc(" ",n.name," ")}}var ae,re=((ae=function(){function e(t,n,i,a){_classCallCheck(this,e),this.bs=t,this.router=n,this.os=i,this.themeChangeService=a,this.calendar=new K.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.allCalendarOfUser(),this.allServiceOfUser(),this.themeChange(),this.activePackageHistory()}},{key:"activePackageHistory",value:function(){var e=this;this.bs.activePackageHistory({id:this.userId}).subscribe((function(t){e.maxAllowedCalander=t.packageId.noOfCalendar}),(function(e){console.log(e)}))}},{key:"allCalendarOfUser",value:function(){var e=this;this.bs.allCalendarOfUser({userId:this.userId}).subscribe((function(t){e.allCalendar=t,e.noOfCalander=t.length}),(function(e){console.log(e)}))}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"edit",value:function(e){delete this.calendar,this.calendar=e}},{key:"updateCalendar",value:function(e){var t=this;e.value.userId=this.calendar.userId,e.value._id=this.calendar._id;var n=[],i=0;for(var a in e.value.service)!0===e.value.service[a]&&(n[i++]=a);e.value.service=n,this.bs.updateCalendar(e.value).subscribe((function(e){t.allCalendarOfUser(),t.os.swall("success",e.message),t.closebtn.nativeElement.click()}),(function(e){console.log(e)}))}},{key:"allServiceOfUser",value:function(){var e=this;this.bs.allServiceOfUser({userId:this.userId}).subscribe((function(t){e.allService=t}),(function(e){console.log(e)}))}},{key:"addCalendar",value:function(){var e=this;if(console.log(this.noOfCalander),console.log(this.maxAllowedCalander),this.noOfCalander<this.maxAllowedCalander){var t=new K.a;t.name="New Calendar",t.userId=this.userId,t.description="New Calendar description",this.bs.addCalendar(t).subscribe((function(t){e.allCalendarOfUser(),e.os.swall("success",t.message)}),(function(e){console.log(e)}))}else this.os.swall("error","You have used all Your Calander. Please upgrade your plan to create more Calander ")}},{key:"delete",value:function(e){var t=this;S.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}}).then((function(n){n.value&&t.bs.deleteCalendar({id:e}).subscribe((function(e){t.allCalendarOfUser(),t.os.swall(e.type,e.message)}),(function(e){console.log(e)}))}))}},{key:"duplicate",value:function(e){var t=this;this.noOfCalander<this.maxAllowedCalander?(delete e._id,this.bs.dupCalendar(e).subscribe((function(e){t.allCalendarOfUser(),t.os.swall("success",e.message)}),(function(e){console.log(e)}))):this.os.swall("error","You have used all Your Calander. Please upgrade your plan to create more Calander ")}},{key:"serviceModel",value:function(e,t){for(var n in e)if(e[n]._id==t)return!0}},{key:"copyText",value:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.os.swall("success","Link copied")}}]),e}()).\u0275fac=function(e){return new(e||ae)(o.Mb(l.a),o.Mb(a.b),o.Mb(M.a),o.Mb(b.a))},ae.\u0275cmp=o.Gb({type:ae,selectors:[["app-calander"]],viewQuery:function(e,t){var n;1&e&&o.pc(X,!0),2&e&&o.hc(n=o.ac())&&(t.closebtn=n.first)},decls:43,vars:14,consts:[[1,"row"],["class","col-md-4 grid-margin stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"d-sm-flex","flex-row","flex-wrap","text-center","text-sm-left","align-items-center"],[3,"click"],[1,"fa","fa-plus-circle"],["id","exampleModal-4","tabindex","-1","role","dialog","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],[1,"fa","fa","fa-superpowers"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"forms-sample",3,"ngSubmit"],["tempForm","ngForm"],[1,"modal-body"],[1,"form-group","row"],["for","exampleInputUsername2",1,"col-12","col-form-label"],[1,"col-12"],["name","name","type","text","required","",1,"form-control",3,"ngModel"],["name","ngModel"],["class","code-help",4,"ngIf"],["rows","5","name","description",1,"form-control",3,"ngModel"],["desc","ngModel"],["ngModelGroup","service"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",3,"disabled"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary","btn-fw"],["close",""],[1,"d-sm-flex","flex-row","flex-wrap","text-sm-left","align-items-center"],[1,"ml-sm-3","ml-md-0","ml-xl-3","mt-2","mt-sm-0","mt-md-2","mt-xl-0"],[1,"mb-1"],[1,"desc"],[1,"mb-1","text-warning"],[1,"mb-1","detail"],[1,"mb-1","text-danger","border-top"],[4,"ngFor","ngForOf"],[1,"border-top","pt-3","text-justify"],["data-toggle","modal","data-target","#exampleModal-4","type","button",1,"btn","btn-outline-info","btn-fw","btn-sm",3,"click"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-outline-danger","btn-fw",3,"click"],[1,"fa","fa-trash-o"],["type","button",1,"btn","btn-outline-warning","btn-fw",3,"click"],[1,"fa","fa-copy"],["type","button",1,"btn","btn-outline-secondary","btn-fw",3,"click"],[1,"code-help"],[1,"form-check-label"],["type","checkbox",3,"ngModel","name"],[1,"input-helper"]],template:function(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",0),o.rc(1,te,31,3,"div",1),o.Rb(2,"div",2),o.Rb(3,"div",3),o.Rb(4,"div",4),o.Rb(5,"div",5),o.Rb(6,"h1",6),o.Zb("click",(function(){return t.addCalendar()})),o.Nb(7,"i",7),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"div",8),o.Rb(9,"div",9),o.Rb(10,"div",10),o.Rb(11,"div",11),o.Rb(12,"h5",12),o.Nb(13,"i",13),o.tc(14),o.Qb(),o.Rb(15,"button",14),o.Rb(16,"span",15),o.tc(17,"\xd7"),o.Qb(),o.Qb(),o.Qb(),o.Rb(18,"form",16,17),o.Zb("ngSubmit",(function(){o.lc(n);var e=o.ic(19);return t.updateCalendar(e)})),o.Rb(20,"div",18),o.Rb(21,"div",19),o.Rb(22,"label",20),o.tc(23,"Service Name"),o.Qb(),o.Rb(24,"div",21),o.Nb(25,"input",22,23),o.rc(27,ne,2,0,"span",24),o.Qb(),o.Qb(),o.Rb(28,"div",19),o.Rb(29,"label",20),o.tc(30,"Description"),o.Qb(),o.Rb(31,"div",21),o.Rb(32,"textarea",25,26),o.tc(34),o.Qb(),o.Qb(),o.Qb(),o.Rb(35,"div",27),o.rc(36,ie,7,6,"div",28),o.Qb(),o.Qb(),o.Rb(37,"div",29),o.Rb(38,"button",30),o.tc(39,"Update"),o.Qb(),o.Rb(40,"button",31,32),o.tc(42,"Close"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.ic(19),a=o.ic(26);o.zb(1),o.ec("ngForOf",t.allCalendar),o.zb(5),o.Cb("text-center text-",t.theme,""),o.zb(8),o.vc(" \xa0\xa0 ",a.value,""),o.zb(11),o.ec("ngModel",t.calendar.name),o.zb(2),o.ec("ngIf",(null==a?null:a.touched)&&(null==a||null==a.errors?null:a.errors.required)),o.zb(5),o.ec("ngModel",t.calendar.description),o.zb(2),o.uc(t.calendar.description),o.zb(2),o.ec("ngForOf",t.allService),o.zb(2),o.Cb("btn btn-outline-",t.theme," btn-fw"),o.ec("disabled",!i.valid)}},directives:[i.i,D.u,D.i,D.j,D.b,D.q,D.h,D.k,i.j,D.l,D.a],styles:[".swal2-styled.swal2-confirm[_ngcontent-%COMP%]{background-color:#389466!important}i.fa.fa-plus-circle[_ngcontent-%COMP%]{font-size:176px;cursor:pointer}div.desc[_ngcontent-%COMP%]{height:200px;overflow-y:hidden}div.desc[_ngcontent-%COMP%]:hover{overflow-y:scroll}.detail[_ngcontent-%COMP%]{font-size:12px}.text-center[_ngcontent-%COMP%]{text-align:center;width:100%}.right[_ngcontent-%COMP%]{float:right}.btn[_ngcontent-%COMP%]{margin-top:5px}"]}),ae),ce=n("mrSG"),oe=n("iOEq"),le=n("Gbwi"),be=n("p8AH"),se=n("MT0H"),de=n("IvIE");function ue(e,t){if(1&e&&(o.Rb(0,"div",7),o.Rb(1,"p"),o.tc(2),o.Qb(),o.Qb()),2&e){var n=t.$implicit,i=o.bc();o.gc("routerLink","/user/avilablity/",n._id,""),o.fc("routerLinkActive",i.theme),o.zb(2),o.uc(n.name)}}function fe(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",9),o.Rb(1,"div",10),o.Rb(2,"h4",12),o.tc(3,"Enter regular hours every week"),o.Qb(),o.Rb(4,"div",13),o.Rb(5,"div",14),o.Rb(6,"div",15),o.Rb(7,"table",16),o.Rb(8,"thead",17),o.Rb(9,"tr"),o.Rb(10,"td",18),o.Rb(11,"div",19),o.Rb(12,"table",16),o.Rb(13,"thead"),o.Rb(14,"tr"),o.Rb(15,"th",20),o.Rb(16,"span"),o.tc(17,"Sun"),o.Qb(),o.Qb(),o.Rb(18,"th",21),o.Rb(19,"span"),o.tc(20,"Mon"),o.Qb(),o.Qb(),o.Rb(21,"th",22),o.Rb(22,"span"),o.tc(23,"Tue"),o.Qb(),o.Qb(),o.Rb(24,"th",23),o.Rb(25,"span"),o.tc(26,"Wed"),o.Qb(),o.Qb(),o.Rb(27,"th",24),o.Rb(28,"span"),o.tc(29,"Thu"),o.Qb(),o.Qb(),o.Rb(30,"th",25),o.Rb(31,"span"),o.tc(32,"Fri"),o.Qb(),o.Qb(),o.Rb(33,"th",26),o.Rb(34,"span"),o.tc(35,"Sat"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(36,"tbody",27),o.Rb(37,"tr"),o.Rb(38,"td",28),o.Rb(39,"div",29),o.Rb(40,"div",30),o.Rb(41,"div",31),o.Rb(42,"div",32),o.Rb(43,"table",16),o.Rb(44,"tbody"),o.Rb(45,"tr"),o.Rb(46,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day0,e.currentService._id,"day0")})),o.Nb(47,"br"),o.tc(48),o.Qb(),o.Rb(49,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day1,e.currentService._id,"day1")})),o.Nb(50,"br"),o.tc(51),o.Qb(),o.Rb(52,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day2,e.currentService._id,"day2")})),o.Nb(53,"br"),o.tc(54),o.Qb(),o.Rb(55,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day3,e.currentService._id,"day3")})),o.Nb(56,"br"),o.tc(57),o.Qb(),o.Rb(58,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day4,e.currentService._id,"day4")})),o.Nb(59,"br"),o.tc(60),o.Qb(),o.Rb(61,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day5,e.currentService._id,"day5")})),o.Nb(62,"br"),o.tc(63),o.Qb(),o.Rb(64,"td",33),o.Zb("click",(function(){o.lc(n);var e=o.bc(2);return e.enterWeekData(e.currentService.day6,e.currentService._id,"day6")})),o.Nb(65,"br"),o.tc(66),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.bc(2);o.zb(48),o.vc(" ",i.currentService.day0," "),o.zb(3),o.vc(" ",i.currentService.day1," "),o.zb(3),o.vc(" ",i.currentService.day2," "),o.zb(3),o.vc(" ",i.currentService.day3," "),o.zb(3),o.vc(" ",i.currentService.day4," "),o.zb(3),o.vc(" ",i.currentService.day5," "),o.zb(3),o.vc(" ",i.currentService.day6," ")}}function ve(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.rc(1,fe,67,7,"div",8),o.Nb(2,"br"),o.Rb(3,"div",9),o.Rb(4,"div",10),o.Rb(5,"full-calendar",11),o.Zb("dateClick",(function(e){return o.lc(n),o.bc().handleDateClick(e)})),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.bc();o.zb(1),o.ec("ngIf",!i.currentService.started),o.zb(4),o.ec("plugins",i.calendarPlugins)("events",i.calendarEvents)}}function pe(e,t){1&e&&(o.Rb(0,"div",34),o.Rb(1,"div",35),o.Rb(2,"div",10),o.Rb(3,"div",36),o.Rb(4,"div",37),o.Rb(5,"p",38),o.tc(6,"Please select a service"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb())}var he,me=((he=function(){function e(t,n,i,a,r,c){_classCallCheck(this,e),this.router=t,this.bs=n,this.os=i,this.calc=a,this.actroute=r,this.themeChangeService=c,this.calendarPlugins=[oe.d,be.a,le.a],this.currentCalendarEvent={title:"9:30AM - 3:40PM ",date:""},this.calendarEvents=[],this.calculatedCalendarEvents=[],this.endDate=new Date("2050-12-31"),this.currentService=new x.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getId(),this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.themeChange()}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"getId",value:function(){var e=this;this.actroute.paramMap.subscribe((function(t){e.serviceId=t.get("id"),e.allServiceOfUser()}))}},{key:"getAllAvilablity",value:function(){var e=this;this.calendarEvents=this.calc.calculateCurrentEventForAvailablity(this.currentService,this.endDate),this.bs.allAvilablity({serviceId:this.currentService._id}).subscribe((function(t){console.log(t);var n=e.calendarEvents.filter((function(e){var n=e.date;return!t.some((function(e){var t=e.date;return n===t}))}));e.calendarEvents=t.concat(n)}),(function(e){console.log(e)}))}},{key:"allServiceOfUser",value:function(){var e=this;this.bs.allServiceOfUser({userId:this.bs.token().id}).subscribe((function(t){e.allService=t,e.getCurrentService()}),(function(e){console.log(e)}))}},{key:"getCurrentEvent",value:function(){var e=this;this.currentService=this.allService.filter((function(t){return t._id==e.serviceId}))[0]}},{key:"getCurrentService",value:function(){var e=this;this.currentService=this.allService.filter((function(t){return t._id==e.serviceId}))[0],this.getAllAvilablity()}},{key:"handleDateClick",value:function(e){return Object(ce.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a,r,c,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.compareDate(e.dateStr)){t.next=12;break}return t.next=3,this.getCurrentCalendarEvent(e.dateStr);case 3:return(n=t.sent)||(n=""),t.next=7,S.a.fire({title:"Enter availability",input:"textarea",inputValue:n,inputPlaceholder:"Enter availability like: 9:00am-12:30pm, 1:30pm-6pm",showCancelButton:!0,confirmButtonText:"Update",cancelButtonText:"Cancel",inputValidator:function(e){return e?o.validateDate(e)?void 0:"Invalid Date String!":"You need to write something!"},customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}});case 7:i=t.sent,(a=i.value)&&(r=this.validateDate(a),c=this.eventRange(r,new Date(e.dateStr)),console.log(c),this.bs.updateAvilablity(c).subscribe((function(e){o.getAllAvilablity(),o.os.swall(e.type,e.message)}),(function(e){console.log(e)}))),t.next=13;break;case 12:this.os.notAllowDateRange();case 13:case"end":return t.stop()}}),t,this)})))}},{key:"eventRange",value:function(e,t){return{date:C(t).format("YYYY-MM-DD"),title:e,userId:this.userId,serviceId:this.currentService._id,bookingSlot:this.calc.bookingslot(e,this.currentService.duration,this.currentService.rest)}}},{key:"validateDate",value:function(e){if("closed"==e.toLowerCase())return"Closed";var t=/^((1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm]))-((1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm]))?$/,n=e.toUpperCase().replace(/ +/g,"").replace(/AM/g," AM").replace(/PM/g," PM").split(","),i="";for(var a in n){var r=n[a].split("-");if(2==r.length){r[0]=this.reconstructDate(r[0]),r[1]=this.reconstructDate(r[1]);var c=r[0]+"-"+r[1];if(t.test(c)){var o=new Date("01/01/1970 "+r[0]).getTime(),l=new Date("01/01/1970 "+r[1]).getTime();o<l&&l-o>6e4*this.currentService.rest&&(i+=c+",")}}}return i.substring(0,i.length-1)}},{key:"reconstructDate",value:function(e){if(-1==e.search("AM")&&-1==e.search("PM"))if(-1==e.search(":"))e+=":00 AM";else{var t=e.split(":");e+=1==t[1].length?"0 AM":" AM"}else if(-1==e.search(":")){var n=e.split(" ");n[0]=n[0]+":00",e=n[0]+" "+n[1]}return e}},{key:"compareDate",value:function(e){var t,n,i=new Date(e).getTime(),a=C(new Date).format("YYYY-MM-DD");return t=new Date(this.currentService.startDate).getTime()<new Date(a).getTime()?new Date(a).getTime():new Date(this.currentService.startDate).getTime(),n=this.currentService.endDate?new Date(this.currentService.endDate).getTime():this.endDate.getTime(),t<=i&&i<=n}},{key:"getCurrentCalendarEvent",value:function(e){return Object(ce.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.currentCalendarEvent=this.calendarEvents.filter((function(t){return t.date==e}))[0],this.currentCalendarEvent?this.currentCalendarEvent.title:""));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getDaysArray",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.getTime()<(new Date).getTime()&&(e=new Date);for(var i=[],a=[],r=e;r<=t;r.setDate(r.getDate()+1))a.push(new Date(r));for(var c in a.map((function(e){return e.toISOString().slice(0,10)})).join(""),a)i.push({date:C(a[c]).format("YYYY-MM-DD"),title:n,userId:this.userId,serviceId:this.currentService._id,bookingSlot:this.calc.bookingslot(n,this.currentService.duration,this.currentService.rest)});return i}},{key:"enterWeekData",value:function(e,t,n){return Object(ce.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,r,c,o,l=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e||(e=""),i.next=3,S.a.fire({title:"Enter availability",input:"textarea",inputValue:e,inputPlaceholder:"Enter availability like: 9:00am-12:30pm, 1:30pm-6pm",showCancelButton:!0,confirmButtonText:"Update",cancelButtonText:"Cancel",inputValidator:function(e){return e?l.validateDate(e)?void 0:"Invalid Date String!":"You need to write something!"},customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}});case 3:if(a=i.sent,!(r=a.value)){i.next=25;break}if(!(c=this.validateDate(r))){i.next=25;break}i.t0=n,i.next="day0"===i.t0?11:"day1"===i.t0?13:"day2"===i.t0?15:"day3"===i.t0?17:"day4"===i.t0?19:"day5"===i.t0?21:"day6"===i.t0?23:24;break;case 11:return o=this.bs.updateTimeSlotService({_id:t,day0:c,day0bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 13:return o=this.bs.updateTimeSlotService({_id:t,day1:c,day1bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 15:return o=this.bs.updateTimeSlotService({_id:t,day2:c,day2bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 17:return o=this.bs.updateTimeSlotService({_id:t,day3:c,day3bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 19:return o=this.bs.updateTimeSlotService({_id:t,day4:c,day4bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 21:return o=this.bs.updateTimeSlotService({_id:t,day5:c,day5bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)}),i.abrupt("break",24);case 23:o=this.bs.updateTimeSlotService({_id:t,day6:c,day6bookingSlot:this.calc.bookingslot(c,this.currentService.duration,this.currentService.rest)});case 24:o.subscribe((function(e){l.allServiceOfUser(),l.os.swall("success",e.message)}),(function(e){console.log(e)}));case 25:case"end":return i.stop()}}),i,this)})))}}]),e}()).\u0275fac=function(e){return new(e||he)(o.Mb(a.b),o.Mb(l.a),o.Mb(M.a),o.Mb(se.a),o.Mb(a.a),o.Mb(b.a))},he.\u0275cmp=o.Gb({type:he,selectors:[["app-avilablity"]],decls:8,vars:3,consts:[[1,"row"],[1,"col-md-3"],[1,"fc-external-events"],["class","fc-event",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[1,"col-md-9"],[4,"ngIf","ngIfElse"],["cur",""],[1,"fc-event",3,"routerLink","routerLinkActive"],["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],["defaultView","dayGridMonth",3,"plugins","events","dateClick"],[1,"card-title"],["id","calendar",1,"full-calendar","fc","fc-unthemed","fc-ltr"],[1,"fc-view-container"],[1,"fc-view","fc-month-view","fc-basic-view"],[1,""],[1,"fc-head"],[1,"fc-head-container","fc-widget-header"],[1,"fc-row","fc-widget-header"],[1,"fc-day-header","fc-widget-header","fc-sun"],[1,"fc-day-header","fc-widget-header","fc-mon"],[1,"fc-day-header","fc-widget-header","fc-tue"],[1,"fc-day-header","fc-widget-header","fc-wed"],[1,"fc-day-header","fc-widget-header","fc-thu"],[1,"fc-day-header","fc-widget-header","fc-fri"],[1,"fc-day-header","fc-widget-header","fc-sat"],[1,"fc-body"],[1,"fc-widget-content"],[1,"fc-scroller","fc-day-grid-container",2,"overflow","hidden","height","570.2px"],[1,"fc-day-grid","fc-unselectable"],[1,"fc-row","fc-week","fc-widget-content","fc-rigid",2,"height","95px"],[1,"fc-bg"],[1,"fc-day","fc-widget-content","date-wrap",3,"click"],[1,"col-md-12","grid-margin","mt-4"],[1,"card","d-flex","align-items-center"],[1,"d-flex","flex-row","align-items-center"],[1,"ml-3"],[1,"mt-2","text-muted","card-text"]],template:function(e,t){if(1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.rc(3,ue,3,3,"div",3),o.Qb(),o.Qb(),o.Rb(4,"div",4),o.rc(5,ve,6,3,"div",5),o.rc(6,pe,7,0,"ng-template",null,6,o.sc),o.Qb(),o.Qb()),2&e){var n=o.ic(7);o.zb(3),o.ec("ngForOf",t.allService),o.zb(2),o.ec("ngIf",t.currentService)("ngIfElse",n)}},directives:[i.i,i.j,a.c,a.d,de.a],styles:[".date-wrap[_ngcontent-%COMP%]{padding:5px;font-size:10px}"]}),he),ge=n("lJxs");function Re(e,t){if(1&e&&(o.Rb(0,"div",7),o.Rb(1,"p"),o.tc(2),o.Qb(),o.Qb()),2&e){var n=t.$implicit,i=o.bc();o.gc("routerLink","/user/appointment/",n._id,""),o.fc("routerLinkActive",i.theme),o.zb(2),o.uc(n.name)}}function ye(e,t){if(1&e&&(o.Rb(0,"h4"),o.tc(1),o.cc(2,"date"),o.Qb()),2&e){var n=o.bc(2);o.zb(1),o.vc(" Timeslot of ",o.dc(2,1,n.selectedDate,"MMM dd y"),"")}}function Qe(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",25),o.Zb("click",(function(){o.lc(n);var e=o.bc().$implicit;return o.bc(4).appointmentOfDay(e.time)})),o.Rb(1,"span",26),o.tc(2),o.Qb(),o.Nb(3,"br"),o.Rb(4,"span"),o.tc(5),o.Qb(),o.Qb()}if(2&e){var i=o.bc().$implicit;o.Db("booked",i.booked),o.zb(2),o.vc(" ",i.time," "),o.zb(2),o.Cb("bladge bladge-",i.booked,""),o.zb(1),o.vc(" Booked : ",i.total,"")}}function ke(e,t){if(1&e&&(o.Rb(0,"span"),o.rc(1,Qe,6,7,"div",24),o.Qb()),2&e){var n=t.index,i=o.bc(4);o.zb(1),o.ec("ngIf",n>=i.start&&n<=i.end)}}function we(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",9),o.Rb(1,"div",14),o.Nb(2,"div",15),o.Nb(3,"div",16),o.Rb(4,"div",17),o.Rb(5,"div",18),o.Rb(6,"button",19),o.Zb("click",(function(){return o.lc(n),o.bc(3).prev()})),o.Nb(7,"span",20),o.Qb(),o.Rb(8,"button",21),o.Zb("click",(function(){return o.lc(n),o.bc(3).next()})),o.Nb(9,"span",22),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.rc(10,ke,2,1,"span",23),o.Qb()}if(2&e){var i=o.bc(3);o.zb(6),o.ec("disabled",!1),o.zb(2),o.ec("disabled",!1),o.zb(2),o.ec("ngForOf",i.allTimeSlotOfDay)}}function Se(e,t){1&e&&(o.Rb(0,"div",9),o.Rb(1,"div",27),o.tc(2," No availablity mentioned for this day "),o.Qb(),o.Qb())}function Ce(e,t){if(1&e&&(o.Rb(0,"div",8),o.rc(1,we,11,3,"div",13),o.rc(2,Se,3,0,"div",13),o.Qb()),2&e){var n=o.bc(2);o.zb(1),o.ec("ngIf",n.allTimeSlotOfDay.length>0),o.zb(1),o.ec("ngIf",0==n.allTimeSlotOfDay.length)}}function xe(e,t){if(1&e&&(o.Rb(0,"h4"),o.tc(1),o.Qb()),2&e){var n=o.bc(2);o.zb(1),o.vc(" Appointments of ",n.selectedTimeStr,"")}}function Me(e,t){if(1&e&&(o.Rb(0,"div",29),o.Rb(1,"div",8),o.Rb(2,"div",30),o.Rb(3,"h6",31),o.Rb(4,"a",32),o.tc(5),o.Qb(),o.Qb(),o.Qb(),o.Rb(6,"div",33),o.Rb(7,"div",9),o.Rb(8,"div",34),o.Rb(9,"ul",35),o.Rb(10,"li"),o.Rb(11,"h6"),o.tc(12,"User Information "),o.Qb(),o.Rb(13,"div",36),o.Rb(14,"p"),o.Nb(15,"i",37),o.tc(16),o.Qb(),o.Rb(17,"p"),o.Nb(18,"i",38),o.tc(19),o.Qb(),o.Rb(20,"p"),o.Nb(21,"i",39),o.tc(22),o.Qb(),o.Qb(),o.Rb(23,"div",40),o.Rb(24,"p"),o.Nb(25,"i",37),o.tc(26),o.Qb(),o.Rb(27,"p"),o.Nb(28,"i",38),o.tc(29),o.Qb(),o.Rb(30,"p"),o.Nb(31,"i",39),o.tc(32),o.Qb(),o.Qb(),o.Qb(),o.Rb(33,"li"),o.Rb(34,"h6"),o.tc(35,"Appointmet taken on"),o.Qb(),o.Nb(36,"br"),o.Rb(37,"p",41),o.Nb(38,"i",42),o.tc(39),o.cc(40,"date"),o.Qb(),o.Nb(41,"br"),o.Qb(),o.Rb(42,"li"),o.Rb(43,"h6"),o.tc(44,"Payment details"),o.Qb(),o.Rb(45,"p"),o.tc(46,"Can you please assign the task for the team"),o.Qb(),o.Rb(47,"p",43),o.Nb(48,"i",44),o.tc(49," 1 year ago. "),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e){var n=t.$implicit,i=t.index;o.zb(2),o.gc("id","heading-",i,""),o.zb(2),o.gc("href","#collapse-",i,"",o.nc),o.zb(1),o.wc(" ",n.userDetail.firstName," ",n.userDetail.lastName," "),o.zb(1),o.gc("id","collapse-",i,""),o.zb(10),o.wc(" \xa0 \xa0 ",n.userDetail.firstName," ",n.userDetail.lastName,""),o.zb(3),o.vc(" \xa0 \xa0 ",n.userDetail.email,""),o.zb(3),o.vc(" \xa0 \xa0 ",n.userDetail.phone,""),o.zb(4),o.wc(" \xa0 \xa0 ",n.userId.firstName," ",n.userId.lastName,""),o.zb(3),o.vc(" \xa0 \xa0 ",n.userId.email,""),o.zb(3),o.vc(" \xa0 \xa0 ",n.userId.phone,""),o.zb(7),o.vc(" \xa0 \xa0 ",o.dc(40,14,n.createdAt,"MMM d, y, h:mm a"),"")}}function De(e,t){if(1&e&&(o.Rb(0,"div"),o.rc(1,Me,50,17,"div",28),o.Qb()),2&e){var n=o.bc(2);o.zb(1),o.ec("ngForOf",n.allAppointmentOfDayTime)}}function Oe(e,t){1&e&&(o.Rb(0,"div",9),o.Rb(1,"div",27),o.tc(2," This timeslot is not booked yet "),o.Qb(),o.Qb())}function Ie(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.Rb(1,"div",8),o.Rb(2,"div",9),o.Rb(3,"full-calendar",10),o.Zb("dateClick",(function(e){return o.lc(n),o.bc().handleDateClick(e)})),o.Qb(),o.Qb(),o.Qb(),o.Nb(4,"br"),o.Nb(5,"br"),o.rc(6,ye,3,4,"h4",11),o.rc(7,Ce,3,2,"div",12),o.Nb(8,"br"),o.Nb(9,"br"),o.rc(10,xe,2,1,"h4",11),o.rc(11,De,2,1,"div",11),o.Rb(12,"div",8),o.rc(13,Oe,3,0,"div",13),o.Qb(),o.Qb()}if(2&e){var i=o.bc();o.zb(3),o.ec("plugins",i.calendarPlugins)("events",i.calendarEvents),o.zb(3),o.ec("ngIf",i.selectedDate),o.zb(1),o.ec("ngIf",!!i.allTimeSlotOfDay),o.zb(3),o.ec("ngIf",i.selectedTimeStr),o.zb(1),o.ec("ngIf",!!i.allAppointmentOfDayTime),o.zb(2),o.ec("ngIf",!!i.allAppointmentOfDayTime&&0==i.allAppointmentOfDayTime.length&&i.selectedTimeStr)}}function ze(e,t){1&e&&(o.Rb(0,"div",45),o.Rb(1,"div",46),o.Rb(2,"div",9),o.Rb(3,"div",47),o.Rb(4,"div",48),o.Rb(5,"p",49),o.tc(6,"Please select a service"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb())}var Ne,Pe=((Ne=function(){function e(t,n,i,a,r,c){_classCallCheck(this,e),this.router=t,this.bs=n,this.os=i,this.calc=a,this.actroute=r,this.themeChangeService=c,this.start=0,this.end=3,this.calendarPlugins=[oe.d,be.a,le.a],this.currentCalendarEvent={title:"9:30AM - 3:40PM ",date:""},this.calendarEvents=[],this.calculatedCalendarEvents=[],this.endDate=new Date("2050-12-31"),this.currentService=new x.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getId(),this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.themeChange()}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"getId",value:function(){var e=this;this.actroute.paramMap.subscribe((function(t){e.serviceId=t.get("id"),e.allServiceOfUser()}))}},{key:"allServiceOfUser",value:function(){var e=this;this.bs.allServiceOfUser({userId:this.bs.token().id}).subscribe((function(t){e.allService=t,e.getCurrentService()}),(function(e){console.log(e)}))}},{key:"getCurrentService",value:function(){var e=this;this.currentService=this.allService.filter((function(t){return t._id==e.serviceId}))[0],this.allAppointmentOfService()}},{key:"handleDateClick",value:function(e){var t=this;this.start=0,this.end=3,this.selectedDate=new Date(e.dateStr),this.selectedDateStr=e.dateStr,this.allAppointmentOfDayTime=[],this.allAppointmentOfDay=[],this.selectedTimeStr="",this.bs.appointmentOfDay({date:this.selectedDateStr,serviceId:this.currentService._id}).subscribe((function(n){t.allAppointmentOfDay=n.appointments,console.log(t.allAppointmentOfDay),t.timeSlotOfDay({date:e.dateStr,serviceId:t.currentService._id},e.dateStr)}),(function(e){console.log(e)}))}},{key:"timeSlotOfDay",value:function(e,t){var n=this;this.bs.timeSlotOfDay(e).subscribe((function(e){if(""!=e.appointments)n.allTimeSlotOfDay=e.appointments,n.prepareTimeslot();else{var i=new Date(t).getDay();n.allTimeSlotOfDay=n.currentService["day"+i+"bookingSlot"],n.prepareTimeslot()}}),(function(e){console.log(e)}))}},{key:"prepareTimeslot",value:function(){var e=this,t=function(t){var n=e.allAppointmentOfDay.filter((function(n){return n.time==e.allTimeSlotOfDay[t].time}));n.length?(e.allTimeSlotOfDay[t].booked=!0,e.allTimeSlotOfDay[t].total=n.length):(e.allTimeSlotOfDay[t].booked=!1,e.allTimeSlotOfDay[t].total=0)};for(var n in this.allTimeSlotOfDay)t(n)}},{key:"appointmentOfDay",value:function(e){var t=this;this.selectedTimeStr=e,this.bs.appointmentOfDay({date:this.selectedDateStr,serviceId:this.currentService._id,time:e}).subscribe((function(e){t.allAppointmentOfDayTime=e.appointments}),(function(e){console.log(e)}))}},{key:"prev",value:function(){0!=this.start&&(this.start=this.start-4,this.end=this.end-4)}},{key:"next",value:function(){if(this.allTimeSlotOfDay.length>this.end+1){var e=this.allTimeSlotOfDay.length-this.end,t=this.allTimeSlotOfDay.length%4;(e>4||e>t)&&(this.start=this.start+4,this.end=this.end+4)}}},{key:"allAppointmentOfService",value:function(){var e=this;this.bs.allAppointmentOfService({serviceId:this.currentService._id}).pipe(Object(ge.a)((function(t){return e.prepareEvent(t)}))).subscribe((function(t){console.log(t),e.calendarEvents=t}),(function(e){console.log(e)}))}},{key:"prepareEvent",value:function(e){var t=function(t){e[t].title="Booked :"+e.filter((function(n){return n.date==e[t].date})).length};for(var n in e)t(n);return e.filter((function(e,t,n){return n.map((function(e){return e.date})).indexOf(e.date)===t}))}}]),e}()).\u0275fac=function(e){return new(e||Ne)(o.Mb(a.b),o.Mb(l.a),o.Mb(M.a),o.Mb(se.a),o.Mb(a.a),o.Mb(b.a))},Ne.\u0275cmp=o.Gb({type:Ne,selectors:[["app-appointment"]],decls:8,vars:3,consts:[[1,"row"],[1,"col-md-3"],[1,"fc-external-events"],["class","fc-event",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[1,"col-md-9"],[4,"ngIf","ngIfElse"],["cur",""],[1,"fc-event",3,"routerLink","routerLinkActive"],[1,"card"],[1,"card-body"],["defaultView","dayGridMonth",3,"plugins","events","dateClick"],[4,"ngIf"],["class","card",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"fc-toolbar","fc-header-toolbar"],[1,"fc-left"],[1,"fc-center"],[1,"fc-right"],[1,"fc-button-group"],["type","button","aria-label","prev",1,"fc-prev-button","fc-button","fc-button-primary",3,"disabled","click"],[1,"fc-icon","fc-icon-chevron-left"],["type","button","aria-label","next",1,"fc-next-button","fc-button","fc-button-primary",3,"disabled","click"],[1,"fc-icon","fc-icon-chevron-right"],[4,"ngFor","ngForOf"],["class","block-wrap",3,"booked","click",4,"ngIf"],[1,"block-wrap",3,"click"],[1,"time"],[1,"block-wrap-not-available"],["class","accordion accordion-solid-header",4,"ngFor","ngForOf"],[1,"accordion","accordion-solid-header"],["role","tab",1,"card-header",3,"id"],[1,"mb-0"],["data-toggle","collapse","aria-expanded","false",1,"collapsed",3,"href"],["role","tabpanel",1,"collapse",3,"id"],[1,"grid-margin","stretch-card"],[1,"bullet-line-list"],[1,"block-wrap-dettail"],[1,"fa","fa-user-circle-o"],[1,"fa","fa-envelope-o"],[1,"fa","fa-phone-square"],[1,"block-wrap-dettail","ml2"],[1,"gray-element"],[1,"fa","fa-clock-o"],[1,"text-muted"],[1,"ti-time"],[1,"col-md-12","grid-margin","mt-4"],[1,"card","d-flex","align-items-center"],[1,"d-flex","flex-row","align-items-center"],[1,"ml-3"],[1,"mt-2","text-muted","card-text"]],template:function(e,t){if(1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.rc(3,Re,3,3,"div",3),o.Qb(),o.Qb(),o.Rb(4,"div",4),o.rc(5,Ie,14,7,"div",5),o.rc(6,ze,7,0,"ng-template",null,6,o.sc),o.Qb(),o.Qb()),2&e){var n=o.ic(7);o.zb(3),o.ec("ngForOf",t.allService),o.zb(2),o.ec("ngIf",t.currentService)("ngIfElse",n)}},directives:[i.i,i.j,a.c,a.d,de.a],pipes:[i.d],styles:[".accordion.accordion-solid-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[aria-expanded=true][_ngcontent-%COMP%]{background:#000;color:#fff}.date-wrap[_ngcontent-%COMP%]{padding:5px;font-size:10px}.block-wrap[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,100%,.1);font-size:11px;font-weight:400;color:#a8b2b9;cursor:pointer;padding:20px;width:25%;text-align:center}.block-wrap[_ngcontent-%COMP%]:hover{background-color:#2c3e50}i.fa[_ngcontent-%COMP%]{font-size:13px!important}.block-wrap-dettail[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.1);color:#a8b2b9;cursor:pointer;padding:10px;width:48%;margin:20px 0;display:inline-block}.ml2[_ngcontent-%COMP%]{margin-left:2%}.bullet-line-list[_ngcontent-%COMP%]{width:100%}.gray-element[_ngcontent-%COMP%]{color:#a8b2b9}@media only screen and (max-width:600px){.block-wrap-dettail[_ngcontent-%COMP%]{width:100%}.ml2[_ngcontent-%COMP%]{margin-left:0;margin-top:0!important}}.block-wrap-not-available[_ngcontent-%COMP%]{font-size:14px;text-align:center;color:#f16857}.booked[_ngcontent-%COMP%]{background-color:#162b3b}span.bladge[_ngcontent-%COMP%]{color:#f16857}.bladge-false[_ngcontent-%COMP%]{visibility:hidden!important}@media screen and (max-width:600px){.fc-toolbar.fc-header-toolbar[_ngcontent-%COMP%]{margin-bottom:15px!important}}"]}),Ne);function _e(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",8),o.Rb(1,"div",4),o.Rb(2,"div",9),o.Rb(3,"h6",10),o.Rb(4,"a",11),o.tc(5),o.Nb(6,"br"),o.Rb(7,"p",12),o.tc(8),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(9,"div",13),o.Rb(10,"div",5),o.Rb(11,"div",14),o.Rb(12,"ul",15),o.Rb(13,"li"),o.Rb(14,"h6"),o.tc(15,"Appointment with "),o.Qb(),o.Rb(16,"div",16),o.Rb(17,"p"),o.Nb(18,"i",17),o.tc(19),o.Qb(),o.Rb(20,"p"),o.Nb(21,"i",18),o.tc(22),o.Qb(),o.Rb(23,"p"),o.Nb(24,"i",19),o.tc(25),o.Qb(),o.Qb(),o.Qb(),o.Rb(26,"li"),o.Rb(27,"h6"),o.tc(28,"User Information "),o.Qb(),o.Rb(29,"div",16),o.Rb(30,"p"),o.Nb(31,"i",17),o.tc(32," \xa0 \xa0 "),o.Nb(33,"span",20,21),o.tc(35),o.Qb(),o.Rb(36,"p"),o.Nb(37,"i",18),o.tc(38),o.Qb(),o.Rb(39,"button",22),o.Zb("click",(function(){o.lc(n);var e=t.$implicit,i=t.index;return o.bc(3).edit(e,i)})),o.Nb(40,"i",23),o.tc(41," Edit"),o.Qb(),o.Rb(42,"p"),o.Nb(43,"i",19),o.tc(44),o.Qb(),o.Qb(),o.Qb(),o.Rb(45,"li"),o.Rb(46,"h6"),o.tc(47,"Appointmet created at"),o.Qb(),o.Nb(48,"br"),o.Rb(49,"p",24),o.Nb(50,"i",25),o.tc(51),o.cc(52,"date"),o.Qb(),o.Nb(53,"br"),o.Qb(),o.Rb(54,"li"),o.Rb(55,"h6"),o.tc(56,"Payment details"),o.Qb(),o.Rb(57,"p"),o.tc(58,"Can you please assign the task for the team"),o.Qb(),o.Rb(59,"p",26),o.Nb(60,"i",27),o.tc(61," 1 year ago. "),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=t.$implicit,a=t.index;o.zb(2),o.gc("id","heading-",a,""),o.zb(2),o.gc("href","#collapse-",a,"",o.nc),o.zb(1),o.vc(" ",i.serviceId.name," "),o.zb(3),o.wc(" ",i.date," ( ",i.time," )"),o.zb(1),o.gc("id","collapse-",a,""),o.zb(10),o.wc(" \xa0 \xa0 ",i.onerId.firstName," ",i.onerId.lastName,""),o.zb(3),o.vc(" \xa0 \xa0 ",i.onerId.email,""),o.zb(3),o.vc(" \xa0 \xa0 ",i.onerId.phone,""),o.zb(10),o.wc(" ",i.userDetail.firstName," ",i.userDetail.lastName,""),o.zb(3),o.vc(" \xa0 \xa0 ",i.userDetail.email,""),o.zb(6),o.vc(" \xa0 \xa0 ",i.userDetail.phone,""),o.zb(7),o.vc(" \xa0 \xa0 ",o.dc(52,15,i.createdAt,"MMM d, y, h:mm a"),"")}}function Ae(e,t){if(1&e&&(o.Rb(0,"div"),o.rc(1,_e,62,18,"div",7),o.Qb()),2&e){var n=o.bc(2);o.zb(1),o.ec("ngForOf",n.selectedApointments)}}function Te(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.Rb(1,"div",4),o.Rb(2,"div",5),o.Rb(3,"full-calendar",6),o.Zb("dateClick",(function(e){return o.lc(n),o.bc().handleDateClick(e)})),o.Qb(),o.Qb(),o.Qb(),o.Nb(4,"br"),o.Nb(5,"br"),o.rc(6,Ae,2,1,"div",2),o.Qb()}if(2&e){var i=o.bc();o.zb(3),o.ec("plugins",i.calendarPlugins)("events",i.calendarEvents),o.zb(3),o.ec("ngIf",!!i.selectedApointments)}}function Ee(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"First name is required "),o.Qb())}function Fe(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"Last name is required "),o.Qb())}function Ue(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"Email is required "),o.Qb())}function Le(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"Invalid Email "),o.Qb())}function qe(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"Phone No is required "),o.Qb())}function Ze(e,t){1&e&&(o.Rb(0,"span",43),o.tc(1,"Phone No must contain 10 digit number"),o.Qb())}function Be(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"h4",28),o.Nb(3,"span",29),o.tc(4,"Update Your Information "),o.Qb(),o.Rb(5,"div",30),o.Rb(6,"form",31),o.Zb("ngSubmit",(function(){return o.lc(n),o.bc().updateDatail()})),o.Rb(7,"div",32),o.Rb(8,"label",33),o.tc(9,"Username"),o.Qb(),o.Nb(10,"input",34),o.rc(11,Ee,2,0,"span",35),o.Qb(),o.Rb(12,"div",32),o.Nb(13,"label",33),o.Nb(14,"input",36),o.rc(15,Fe,2,0,"span",35),o.Qb(),o.Rb(16,"div",37),o.Rb(17,"label",33),o.tc(18,"Email"),o.Qb(),o.Nb(19,"input",38),o.rc(20,Ue,2,0,"span",35),o.rc(21,Le,2,0,"span",35),o.Qb(),o.Rb(22,"div",37),o.Rb(23,"label",33),o.tc(24,"Phone"),o.Qb(),o.Nb(25,"input",39),o.rc(26,qe,2,0,"span",35),o.rc(27,Ze,2,0,"span",35),o.Qb(),o.Rb(28,"div",40),o.Rb(29,"button",41),o.tc(30,"Update \xa0"),o.Nb(31,"i",42),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.bc();o.zb(6),o.ec("formGroup",i.userProfile),o.zb(5),o.ec("ngIf",(null==i.firstame?null:i.firstame.touched)&&(null==i.firstame||null==i.firstame.errors?null:i.firstame.errors.required)),o.zb(4),o.ec("ngIf",(null==i.lastname?null:i.lastname.touched)&&(null==i.lastname||null==i.lastname.errors?null:i.lastname.errors.required)),o.zb(5),o.ec("ngIf",(null==i.email?null:i.email.touched)&&(null==i.email||null==i.email.errors?null:i.email.errors.required)),o.zb(1),o.ec("ngIf",(null==i.email?null:i.email.touched)&&(null==i.email?null:i.email.invalid)&&!(null!=i.email&&null!=i.email.errors&&i.email.errors.required)),o.zb(5),o.ec("ngIf",(null==i.getphone?null:i.getphone.touched)&&(null==i.getphone||null==i.getphone.errors?null:i.getphone.errors.required)),o.zb(1),o.ec("ngIf",(null==i.getphone?null:i.getphone.touched)&&(null==i.getphone||null==i.getphone.errors?null:i.getphone.errors.pattern)),o.zb(2),o.Cb("btn btn-outline-",i.theme," btn-fw submit-btn"),o.ec("disabled",!i.userProfile.valid)}}var Ge,Ye=((Ge=function(){function e(t,n,i,a){_classCallCheck(this,e),this.bs=t,this.fb=n,this.os=i,this.themeChangeService=a,this.updateform=!1,this.calendarPlugins=[oe.d,be.a,le.a],this.calendarEvents=[],this.today=C(new Date).format("YYYY-MM-DD"),this.currentService=new x.a,this.userProfile=this.fb.group({firstName:["",D.s.required],lastName:["",D.s.required],email:["",[D.s.required,D.s.email]],phone:["",[D.s.required,D.s.pattern("^\\d{10}$")]]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.themeChange(),this.myAppointments(this.userId)}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"myAppointments",value:function(e){var t=this;this.bs.myAppointments(e).pipe(Object(ge.a)((function(e){return t.preparelist(e)}))).subscribe((function(e){t.calendarEvents=e.calEvents,t.appointments=e.allAppoints,t.selectedApointments=t.appointments.filter((function(e){return e.date==t.today}))}),(function(e){console.log(e)}))}},{key:"preparelist",value:function(e){var t=[];for(var n in e)t.push({date:e[n].date,title:e[n].time});return{calEvents:t.filter((function(e,t,n){return n.map((function(e){return e.date})).indexOf(e.date)===t})),allAppoints:e}}},{key:"handleDateClick",value:function(e){console.log(e.dateStr),this.selectedApointments=this.appointments.filter((function(t){return t.date==e.dateStr})),console.log(this.selectedApointments)}},{key:"edit",value:function(e,t){this.updateform=!0,this.selectedApointmentForUpdate=e,this.selectedindex=t,this.userProfile.patchValue({firstName:this.selectedApointmentForUpdate.userDetail.firstName,lastName:this.selectedApointmentForUpdate.userDetail.lastName,email:this.selectedApointmentForUpdate.userDetail.email,phone:this.selectedApointmentForUpdate.userDetail.phone})}},{key:"updateDatail",value:function(){var e=this;this.bs.updateBooking({_id:this.selectedApointmentForUpdate._id,userDetail:this.userProfile.value}).subscribe((function(t){"success"==t.type?(e.os.swall("success",t.message),e.updateform=!1,e.selectedApointments[e.selectedindex].userDetail=e.userProfile.value):e.os.swall("error",t.message)}),(function(e){console.log(e)})),console.log(this.userProfile.value)}},{key:"firstame",get:function(){return this.userProfile.get("firstName")}},{key:"lastname",get:function(){return this.userProfile.get("lastName")}},{key:"email",get:function(){return this.userProfile.get("email")}},{key:"getphone",get:function(){return this.userProfile.get("phone")}}]),e}()).\u0275fac=function(e){return new(e||Ge)(o.Mb(l.a),o.Mb(D.d),o.Mb(M.a),o.Mb(b.a))},Ge.\u0275cmp=o.Gb({type:Ge,selectors:[["app-my-appointment"]],decls:4,vars:2,consts:[[1,"row"],[1,"wrap-booking"],[4,"ngIf"],["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],["defaultView","dayGridMonth",3,"plugins","events","dateClick"],["class","accordion accordion-solid-header",4,"ngFor","ngForOf"],[1,"accordion","accordion-solid-header"],["role","tab",1,"card-header",3,"id"],[1,"mb-0"],["data-toggle","collapse","aria-expanded","false",1,"collapsed",3,"href"],[1,"date-time"],["role","tabpanel",1,"collapse",3,"id"],[1,"grid-margin","stretch-card"],[1,"bullet-line-list"],[1,"block-wrap-dettail"],[1,"fa","fa-user-circle-o"],[1,"fa","fa-envelope-o"],[1,"fa","fa-phone-square"],["contenteditable",""],["firstName{{i}}",""],["type","button",1,"btn","btn-outline-info","btn-fw","mt-1","float-r",3,"click"],[1,"fa","fa-pencil-square-o"],[1,"gray-element"],[1,"fa","fa-clock-o"],[1,"text-muted"],[1,"ti-time"],[1,"step-title"],[1,"step-number"],[1,"form-wrap"],[1,"pt-3",3,"formGroup","ngSubmit"],[1,"form-group","half-input"],[1,"form-lavel"],["id","name","type","text","formControlName","firstName","name","firstName","placeholder","First name",1,"form-control","form-control-lg"],["class","code-help",4,"ngIf"],["id","name","type","text","formControlName","lastName","name","lastName","placeholder","Last name",1,"form-control","form-control-lg"],[1,"form-group"],["id","email","type","email","formControlName","email","name","email","placeholder","Email",1,"form-control","form-control-lg"],["id","phone","type","number","formControlName","phone","name","phone","placeholder","Phone No",1,"form-control","form-control-lg"],[1,"mt-3"],["type","submit",3,"disabled"],[1,"fa","fa-angle-double-right"],[1,"code-help"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.rc(2,Te,7,3,"div",2),o.rc(3,Be,32,11,"div",3),o.Qb(),o.Qb()),2&e&&(o.zb(2),o.ec("ngIf",!t.updateform),o.zb(1),o.ec("ngIf",t.updateform))},directives:[i.j,de.a,i.i,D.u,D.i,D.f,D.b,D.h,D.e,D.n],pipes:[i.d],styles:[".accordion.accordion-solid-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[aria-expanded=true][_ngcontent-%COMP%]{background:#000;color:#fff}.date-wrap[_ngcontent-%COMP%]{padding:5px;font-size:10px}.block-wrap[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,100%,.1);font-size:11px;font-weight:400;color:#a8b2b9;cursor:pointer;padding:20px;width:25%;text-align:center}.block-wrap[_ngcontent-%COMP%]:hover{background-color:#2c3e50}i.fa[_ngcontent-%COMP%]{font-size:13px!important}.block-wrap-dettail[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.1);color:#a8b2b9;cursor:pointer;padding:10px;width:48%;margin:20px 0;display:inline-block}.ml2[_ngcontent-%COMP%]{margin-left:2%}.bullet-line-list[_ngcontent-%COMP%]{width:100%}.gray-element[_ngcontent-%COMP%]{color:#a8b2b9}@media only screen and (max-width:600px){.block-wrap-dettail[_ngcontent-%COMP%]{width:100%}.ml2[_ngcontent-%COMP%]{margin-left:0;margin-top:0!important}}.date-time[_ngcontent-%COMP%]{color:grey;font-size:12px!important}.submit-btn[_ngcontent-%COMP%]{font-size:20px;padding:14px}.half-input[_ngcontent-%COMP%]{width:50%;display:inline-block}.float-r[_ngcontent-%COMP%]{float:right}"]}),Ge),je=n("8Dg9"),$e=n("qgFi"),He=n("zyuS"),Ve=["close"];function We(e,t){if(1&e&&(o.Rb(0,"li"),o.Rb(1,"span"),o.tc(2),o.Qb(),o.Qb()),2&e){var n=t.$implicit;o.zb(2),o.vc(" ",n.name," ")}}function Je(e,t){if(1&e&&(o.Rb(0,"button",15),o.tc(1,"Applied"),o.Qb()),2&e){var n=o.bc(3);o.Cb("btn btn-outline-",n.theme," btn-block "),o.ec("disabled",!0)}}function Ke(e,t){if(1&e){var n=o.Sb();o.Rb(0,"button",16),o.Zb("click",(function(){o.lc(n);var e=o.bc().$implicit;return o.bc(2).applyPlan(e)})),o.tc(1,"Apply"),o.Qb()}if(2&e){var i=o.bc(3);o.Cb("btn btn-outline-",i.theme," btn-block cursor-pointer")}}function Xe(e,t){if(1&e&&(o.Rb(0,"div",3),o.Rb(1,"div"),o.Rb(2,"div",4),o.Rb(3,"h3"),o.tc(4),o.Qb(),o.Rb(5,"p",5),o.tc(6),o.Qb(),o.Rb(7,"h1",6),o.Nb(8,"span",7),o.tc(9,"\xa0"),o.Rb(10,"span"),o.tc(11),o.Qb(),o.Rb(12,"span",8),o.tc(13),o.Qb(),o.Qb(),o.Qb(),o.Rb(14,"ul",9),o.rc(15,We,3,1,"li",10),o.Qb(),o.Rb(16,"div",11),o.rc(17,Je,2,4,"button",12),o.rc(18,Ke,2,3,"button",13),o.Qb(),o.Rb(19,"p",14),o.tc(20),o.Qb(),o.Qb(),o.Qb()),2&e){var n=t.$implicit,i=o.bc(2);o.zb(1),o.Cb("card border-",i.theme," border pricing-card-body"),o.Db("blackbg",n._id==i.userPackageId),o.zb(2),o.Cb("text-",i.theme,""),o.zb(1),o.uc(n.name),o.zb(2),o.wc("Include ",n.noOfService," Service with ",n.noOfCalendar," Calander"),o.zb(2),o.ec("innerHTML",n.currencySymbol,o.mc),o.zb(3),o.vc("",n.price,"/"),o.zb(2),o.uc(n.collectionPeriod),o.zb(2),o.ec("ngForOf",n.packageFeature),o.zb(2),o.ec("ngIf",n._id==i.userPackageId),o.zb(1),o.ec("ngIf",!(n._id==i.userPackageId)),o.zb(2),o.uc(n.description)}}function et(e,t){if(1&e&&(o.Rb(0,"div",1),o.rc(1,Xe,21,18,"div",2),o.Qb()),2&e){var n=o.bc();o.zb(1),o.ec("ngForOf",n.allpackage)}}function tt(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",1),o.Rb(1,"div",17),o.Rb(2,"div"),o.Rb(3,"div",4),o.Rb(4,"h5"),o.tc(5," Choose Payment Gateway "),o.Qb(),o.Qb(),o.Rb(6,"div",9),o.Rb(7,"div"),o.Rb(8,"label",18),o.Rb(9,"input",19),o.Zb("ngModelChange",(function(e){return o.lc(n),o.bc().selectedGatewe=e})),o.Qb(),o.tc(10," Paypal "),o.Nb(11,"i",20),o.Qb(),o.Qb(),o.Rb(12,"div"),o.Rb(13,"label",18),o.Rb(14,"input",21),o.Zb("ngModelChange",(function(e){return o.lc(n),o.bc().selectedGatewe=e})),o.Qb(),o.tc(15," Stripe "),o.Nb(16,"i",20),o.Qb(),o.Qb(),o.Qb(),o.Rb(17,"h5"),o.tc(18," Duration (in months)"),o.Qb(),o.Rb(19,"div",9),o.Rb(20,"div",22),o.Rb(21,"input",23),o.Zb("ngModelChange",(function(e){return o.lc(n),o.bc().selectedNoOfMonth=e})),o.Qb(),o.Rb(22,"div",24),o.Rb(23,"span",25),o.tc(24,"Month"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(25,"div",11),o.Rb(26,"button",26),o.Zb("click",(function(){return o.lc(n),o.bc().proceed()})),o.tc(27,"Proceed"),o.Qb(),o.Qb(),o.Rb(28,"p",14),o.tc(29),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&e){var i=o.bc();o.zb(2),o.Cb("card border-",i.theme," border pricing-card-body"),o.zb(2),o.Cb("text-",i.theme,""),o.zb(3),o.Cb("form-check form-check-",i.theme,""),o.zb(2),o.ec("ngModel",i.selectedGatewe),o.zb(3),o.Cb("form-check form-check-",i.theme,""),o.zb(2),o.ec("ngModel",i.selectedGatewe),o.zb(3),o.Cb("text-",i.theme,""),o.zb(4),o.ec("ngModel",i.selectedNoOfMonth),o.zb(5),o.Cb("btn btn-outline-",i.theme," btn-block cursor-pointer"),o.ec("disabled",i.selectedNoOfMonth<=0||""==i.selectedGatewe),o.zb(3),o.uc(i.package.description)}}var nt,it,at,rt,ct,ot=((nt=function(){function e(t,n,i,a){_classCallCheck(this,e),this.bs=t,this.router=n,this.os=i,this.themeChangeService=a,this.currency=He.a,this.show="package",this.selectedNoOfMonth=1,this.package=new $e.a}return _createClass(e,[{key:"ngOnInit",value:function(){localStorage.removeItem("buy_package"),this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.allPackage(),this.themeChange(),this.activePackageHistory()}},{key:"activePackageHistory",value:function(){var e=this;this.bs.activePackageHistory({id:this.userId}).subscribe((function(t){e.userPackageId=t.packageId._id,e.ativePackageHistoryId=t._id}),(function(e){console.log(e)}))}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"allPackage",value:function(){var e=this;this.bs.allPackage().pipe(Object(ge.a)((function(t){return e.preparePackage(t)}))).subscribe((function(t){e.allpackage=t}),(function(e){console.log(e)}))}},{key:"preparePackage",value:function(e){var t=this,n=[],i=function(i){var a=t.currency.filter((function(t){return t.code==e[i].currencySymbol}));t.currency.filter((function(t){return t.code==e[i].currencySymbol})),e[i].currencySymbol=a[0].symbol_native,e[i].currencyCode=a[0].code,n.push(e[i])};for(var a in e)i(a);return n}},{key:"applyPlan",value:function(e){console.log(),0==e.price?(this.tempData={userId:this.userId,packageId:e._id,startDate:new Date},this.updatePlan(this.tempData)):(this.tempData={name:e.name,price:e.price,currencyCode:e.currencyCode,_id:e._id},this.show="payment-select"),this.selectedGatewe="",this.selectedpackage=e}},{key:"proceed",value:function(){this.tempData.duration=this.selectedNoOfMonth,localStorage.setItem("buy_package",JSON.stringify(this.tempData)),"paypal"==this.selectedGatewe&&this.router.navigate(["user/paypal"]),"stripe"==this.selectedGatewe&&this.router.navigate(["user/stripe"]),this.show="package"}},{key:"updatePlan",value:function(e){return Object(ce.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeInactiveOldPackageHistory();case 2:this.bs.addPackagehistory(e).subscribe((function(e){n.tempData=[],n.activePackageHistory(),n.os.swall("success",e.message)}),(function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"makeInactiveOldPackageHistory",value:function(){this.bs.updatePackagehistory({_id:this.ativePackageHistoryId,status:"inactive"}).subscribe((function(e){console.log(e)}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||nt)(o.Mb(l.a),o.Mb(a.b),o.Mb(M.a),o.Mb(b.a))},nt.\u0275cmp=o.Gb({type:nt,selectors:[["app-package"]],viewQuery:function(e,t){var n;1&e&&o.pc(Ve,!0),2&e&&o.hc(n=o.ac())&&(t.closebtn=n.first)},decls:2,vars:2,consts:[["class","row pricing-table",4,"ngIf"],[1,"row","pricing-table"],["class","col-md-6 col-xl-4 grid-margin stretch-card pricing-card",4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4","grid-margin","stretch-card","pricing-card"],[1,"text-center","pricing-card-head"],[1,"mt-3","mb-0","plan-cost","text-warning"],[1,"font-weight-normal","mb-4"],[3,"innerHTML"],[1,"col-period"],[1,"plan-features"],[4,"ngFor","ngForOf"],[1,"wrapper"],[3,"class","disabled",4,"ngIf"],[3,"class","click",4,"ngIf"],[1,"mt-3","mb-0","plan-cost","text-gray"],[3,"disabled"],[3,"click"],[1,"center-element","col-md-6","col-xl-4","grid-margin","stretch-card","pricing-card"],[1,"form-check-label"],["type","radio","name","selectedGatewe","value","paypal",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"input-helper"],["type","radio","name","selectedGatewe","value","stripe",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"input-group"],["name","selectedNoOfMonth","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"disabled","click"]],template:function(e,t){1&e&&(o.rc(0,et,2,1,"div",0),o.rc(1,tt,30,23,"div",0)),2&e&&(o.ec("ngIf","package"==t.show),o.zb(1),o.ec("ngIf","payment-select"==t.show))},directives:[i.j,i.i,D.o,D.b,D.h,D.k,D.n,D.q],styles:['@charset "UTF-8";ul.plan-features[_ngcontent-%COMP%]{height:200px;overflow-x:hidden;overflow-y:scroll}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(31,31,35,.8);border:2px solid #fff;display:block!important}li[_ngcontent-%COMP%]:before{content:"\uf197";font-family:FontAwesome;color:#d24571;display:inline-block;margin-left:-1.3em;width:1.3em;margin-right:5px}.blackbg[_ngcontent-%COMP%]{background-color:#000}@media only screen and (max-width:320px){.pricing-card-body[_ngcontent-%COMP%]{padding:30px 10px 23px!important}}.col-period[_ngcontent-%COMP%]{font-size:12px}.center-element[_ngcontent-%COMP%]{margin:auto}']}),nt),lt=n("VFot"),bt=((it=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.stripeService=n,this.elementsOptions={locale:"es"}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.stripeTest=this.fb.group({name:["",[D.s.required]]}),this.stripeService.elements(this.elementsOptions).subscribe((function(t){e.elements=t,e.card||(e.card=e.elements.create("card",{style:{base:{iconColor:"#666EE8",color:"#31325F",lineHeight:"40px",fontWeight:300,fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:"18px","::placeholder":{color:"#CFD7E0"}}}}),e.card.mount("#card-element"))}))}},{key:"buy",value:function(){var e=this.stripeTest.get("name").value;this.stripeService.createToken(this.card,{name:e}).subscribe((function(e){e.token?console.log(e.token):e.error&&console.log(e.error.message)}))}}]),e}()).\u0275fac=function(e){return new(e||it)(o.Mb(D.d),o.Mb(lt.b))},it.\u0275cmp=o.Gb({type:it,selectors:[["app-stripe"]],decls:5,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Jane Doe"],["id","card-element",1,"field"],["type","submit"]],template:function(e,t){1&e&&(o.Rb(0,"form",0),o.Zb("ngSubmit",(function(){return t.buy()})),o.Nb(1,"input",1),o.Nb(2,"div",2),o.Rb(3,"button",3),o.tc(4," BUY "),o.Qb(),o.Qb()),2&e&&o.ec("formGroup",t.stripeTest)},directives:[D.u,D.i,D.f,D.b,D.h,D.e],styles:[""]}),it),st=["paypal"],dt=[{path:"",component:R,children:[{path:"home",component:y},{path:"service",component:J},{path:"calendar",component:re},{path:"profile",component:je.a},{path:"avilablity/:id",component:me},{path:"appointment/:id",component:Pe},{path:"my-appointment",component:Ye},{path:"package",component:ot},{path:"paypal",component:(at=function(){function e(t,n,i,a){_classCallCheck(this,e),this.bs=t,this.router=n,this.os=i,this.themeChangeService=a,this.title="Paypal",this.paidFor=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.adminPGCredential();var e=JSON.parse(localStorage.getItem("buy_package"));this.selectedpackage=e,console.log(e)}},{key:"themeChange",value:function(){var e=this;this.themeChangeService.themeLoad$.subscribe((function(t){return e.theme=t}))}},{key:"addPaypallscript",value:function(e){var t=this,n=document.createElement("script");n.src="https://www.paypal.com/sdk/js?client-id="+e+"&currency=INR",console.log(n.src),document.body.appendChild(n),setTimeout((function(){t.paypalStart()}),5e3)}},{key:"adminPGCredential",value:function(){var e=this;this.bs.adminPGCredential().subscribe((function(t){t.paypalId&&e.addPaypallscript(t.paypalId)}),(function(e){console.log(e)}))}},{key:"paypalStart",value:function(){var e=this;paypal.Buttons({createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{value:"100"}}]})},onApprove:function(t,n){return Object(ce.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.order.capture();case 2:t=e.sent,this.paidFor=!0,console.log(t);case 4:case"end":return e.stop()}}),e,this)})))},onError:function(e){console.log(e)}}).render(this.paypalElement.nativeElement)}}]),e}(),at.\u0275fac=function(e){return new(e||at)(o.Mb(l.a),o.Mb(a.b),o.Mb(M.a),o.Mb(b.a))},at.\u0275cmp=o.Gb({type:at,selectors:[["app-paypal"]],viewQuery:function(e,t){var n;1&e&&o.pc(st,!0),2&e&&o.hc(n=o.ac())&&(t.paypalElement=n.first)},decls:24,vars:7,consts:[[1,"row"],[1,"payment"],[1,"card","card-inverse-secondary","mb-5"],[1,"card-body"],[1,"card-title","text-center"],[1,"font-weight-normal","mb-4","text-warning","small-font","text-center"],[1,"text-mute"],[3,"innerHTML"],[1,"text-danger"],[1,"mt-4","mb-4","text-success","small-font","text-center"],[3,"hidden"],["paypal",""]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.Rb(3,"div",3),o.Rb(4,"h4",4),o.tc(5),o.Qb(),o.Rb(6,"h4",5),o.Rb(7,"span",6),o.tc(8,"@"),o.Qb(),o.Nb(9,"span",7),o.Rb(10,"span"),o.tc(11),o.Qb(),o.tc(12," for "),o.Rb(13,"span",8),o.tc(14),o.Qb(),o.tc(15,"Month"),o.Qb(),o.Rb(16,"h5",9),o.Rb(17,"span",6),o.tc(18," Total Payment : "),o.Qb(),o.Nb(19,"span",7),o.Rb(20,"span"),o.tc(21),o.Qb(),o.Qb(),o.Nb(22,"div",10,11),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(5),o.uc(t.selectedpackage.name),o.zb(4),o.ec("innerHTML",t.selectedpackage.currencySymbol,o.mc),o.zb(2),o.uc(t.selectedpackage.price),o.zb(3),o.vc(" ",t.selectedpackage.duration," "),o.zb(5),o.ec("innerHTML",t.selectedpackage.currencySymbol,o.mc),o.zb(2),o.vc(" ",t.selectedpackage.price*t.selectedpackage.duration,""),o.zb(1),o.ec("hidden",t.paidFor))},styles:[".payment[_ngcontent-%COMP%]{max-width:500px;min-width:320px;margin:auto}"]}),at)},{path:"stripe",component:bt}],canActivate:[k]}],ut=((ct=function e(){_classCallCheck(this,e)}).\u0275mod=o.Kb({type:ct}),ct.\u0275inj=o.Jb({factory:function(e){return new(e||ct)},imports:[[a.f.forChild(dt)],a.f]}),ct),ft=((rt=function e(){_classCallCheck(this,e)}).\u0275mod=o.Kb({type:rt}),rt.\u0275inj=o.Jb({factory:function(e){return new(e||rt)},imports:[[i.b,D.g,D.p,de.b,ut]]}),rt)}}]);