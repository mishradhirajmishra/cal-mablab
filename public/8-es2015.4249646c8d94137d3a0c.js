(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{jkDv:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",(function(){return le}));var n=i("ofXK"),a=i("tyNb"),c=i("tQXo"),b=i("jraZ"),r=i("fXoL"),o=i("ypjD"),s=i("aYsf"),l=i("13Ll"),d=i("lQeB");let u=(()=>{class e{constructor(e,t,i){this.themeChangeService=e,this.bs=t,this.avaliabiltyReloadService=i,this.showAvailablity=!1}ngOnInit(){this.theme=localStorage.getItem("theme"),this.themeChange(),this.userId=this.bs.token().id,this.allServiceOfUser(),this.AvaliabiltyReload()}themeChange(){this.themeChangeService.themeLoad$.subscribe(e=>this.theme=e)}allServiceOfUser(){this.bs.allServiceOfUser({userId:this.userId}).subscribe(e=>{this.allService=e,e.length>0&&(this.showAvailablity=!0)},e=>{console.log(e)})}AvaliabiltyReload(){this.avaliabiltyReloadService.ReloadService$.subscribe(e=>{1==e&&this.allServiceOfUser()})}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.a),r.Mb(o.a),r.Mb(d.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-sidebar"]],inputs:{hideSidebar:"hideSidebar"},decls:23,vars:5,consts:[["id","sidebar"],[1,"sidebar-content-wrapper","sidebar-offcanvas"],[1,"nav"],["routerLink","package","routerLinkActive","active",1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],["aria-hidden","true",1,"fa","fa-product-hunt","menu-icon"],[1,"menu-title"],["routerLink","package-feature","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-th-list","menu-icon"],["routerLink","users","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-users","menu-icon"],["routerLink","profile","routerLinkActive","active",1,"nav-item"],[1,"fa","fa-user-circle-o","menu-icon"]],template:function(e,t){1&e&&(r.Rb(0,"nav",0),r.Rb(1,"div",1),r.Rb(2,"ul",2),r.Rb(3,"li",3),r.Rb(4,"a",4),r.Nb(5,"i",5),r.Rb(6,"span",6),r.tc(7,"Package"),r.Qb(),r.Qb(),r.Qb(),r.Rb(8,"li",7),r.Rb(9,"a",4),r.Nb(10,"i",8),r.Rb(11,"span",6),r.tc(12,"Package Feature"),r.Qb(),r.Qb(),r.Qb(),r.Rb(13,"li",9),r.Rb(14,"a",4),r.Nb(15,"i",10),r.Rb(16,"span",6),r.tc(17,"Users"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"li",11),r.Rb(19,"a",4),r.Nb(20,"i",12),r.Rb(21,"span",6),r.tc(22,"Profile"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Cb("sidebar sidebar-",t.theme,""),r.zb(1),r.Db("active",t.hideSidebar))},directives:[a.c,a.d],styles:["app-sidebar[_ngcontent-%COMP%]{z-index:100}.box[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin:1px}"]}),e})(),g=(()=>{class e{constructor(e,t,i,n){this.router=e,this.bs=t,this.themeChangeService=i,this.userdetailRefreshService=n,this.hideSidebar=!1,this.user=new c.a,this.userDetail=new b.a}ngOnInit(){this.user=this.bs.token(),this.getUserDetail(),this.refreshUserDetail()}getUserDetail(){this.bs.userById(this.user.id).subscribe(e=>{this.userDetail=e},e=>{console.log(e)})}refreshUserDetail(){this.userdetailRefreshService.detailRefresh$.subscribe(e=>{e&&this.getUserDetail()})}logout(){localStorage.removeItem("token"),this.router.navigate(["login"])}toggleSidebar(){this.hideSidebar=!this.hideSidebar}addTheme(e){localStorage.setItem("theme",e),this.themeChangeService.setThemeLoad(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(a.b),r.Mb(o.a),r.Mb(s.a),r.Mb(l.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-admin"]],decls:116,vars:7,consts:[[1,"container-scroller"],[3,"hideSidebar"],[1,"container-fluid","page-body-wrapper"],[1,"navbar","p-0","d-flex","flex-row"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],["type","button","data-toggle","minimize",1,"navbar-toggler","navbar-toggler","align-self-center",3,"click"],[1,"ti-align-left"],[1,"navbar-brand-wrapper","d-flex","align-items-center","justify-content-center"],["href","index.html",1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],["href","index.html",1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-nav","navbar-nav-right","ml-auto"],[1,"nav-item","nav-search","d-none","d-sm-flex"],[1,"nav-link","d-flex","justify-content-center","align-items-center"],["type","text","id","search-field","placeholder","Search...",1,"form-control","hidden"],["id","search-icon",1,"ti-search","mx-0"],[1,"nav-item","dropdown"],["id","messageDropdown","href","#","data-toggle","dropdown",1,"nav-link","count-indicator","dropdown-toggle","d-flex","justify-content-center","align-items-center"],[1,"ti-comment","mx-0"],[1,"count"],["aria-labelledby","messageDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown","preview-list"],[1,"mb-0","font-weight-normal","float-left","dropdown-header"],[1,"dropdown-item","preview-item"],[1,"preview-thumbnail"],["src","https://via.placeholder.com/36x36","alt","image",1,"profile-pic"],[1,"preview-item-content","flex-grow"],[1,"preview-subject","ellipsis","font-weight-normal"],[1,"font-weight-light","small-text","text-muted","mb-0"],["id","notificationDropdown","href","#","data-toggle","dropdown",1,"nav-link","count-indicator","dropdown-toggle","d-flex","align-items-center","justify-content-center"],[1,"ti-bell","mx-0"],["aria-labelledby","notificationDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown","preview-list"],[1,"preview-icon","bg-gradient-success"],[1,"ti-info","mx-0"],[1,"preview-item-content"],[1,"preview-subject","font-weight-normal"],[1,"font-weight-light","small-text","mb-0","text-muted"],[1,"preview-icon","bg-gradient-warning"],[1,"ti-settings","mx-0"],[1,"preview-icon","bg-gradient-info"],[1,"ti-user","mx-0"],[1,"nav-item","nav-profile","dropdown"],["href","#","data-toggle","dropdown","id","profileDropdown",1,"nav-link"],["alt","profile",3,"src"],["aria-labelledby","profileDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown"],["routerLink","/admin/profile",1,"dropdown-item"],[1,"fa","fa-user","text-danger"],[1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-envelope","text-danger"],[1,"dropdown-item",3,"click"],[1,"ti-new-window","text-primary"],[1,"bg-gradient-success","box",3,"click"],[1,"bg-gradient-primary","box",3,"click"],[1,"bg-gradient-info","box",3,"click"],[1,"bg-gradient-warning","box",3,"click"],[1,"bg-gradient-danger","box",3,"click"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-lg-none","align-self-center"],[1,"ti-menu",3,"click"],[1,"main-panel"],[1,"content-wrapper"],[1,"footer"],[1,"d-sm-flex","justify-content-center","justify-content-sm-between"],[1,"text-center","text-sm-left","d-block","d-sm-inline-block"],["href","https://www.urbanui.com/","target","_blank",1,"ml-1"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"ti-heart","text-danger","ml-1"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Nb(1,"app-sidebar",1),r.Rb(2,"div",2),r.Rb(3,"nav",3),r.Rb(4,"div",4),r.Rb(5,"button",5),r.Zb("click",(function(){return t.toggleSidebar()})),r.Nb(6,"span",6),r.Qb(),r.Rb(7,"div",7),r.Rb(8,"a",8),r.Nb(9,"img",9),r.Qb(),r.Rb(10,"a",10),r.Nb(11,"img",11),r.Qb(),r.Qb(),r.Rb(12,"ul",12),r.Rb(13,"li",13),r.Rb(14,"div",14),r.Nb(15,"input",15),r.Nb(16,"i",16),r.Qb(),r.Qb(),r.Rb(17,"li",17),r.Rb(18,"a",18),r.Nb(19,"i",19),r.Nb(20,"span",20),r.Qb(),r.Rb(21,"div",21),r.Rb(22,"p",22),r.tc(23,"Messages"),r.Qb(),r.Rb(24,"a",23),r.Rb(25,"div",24),r.Nb(26,"img",25),r.Qb(),r.Rb(27,"div",26),r.Rb(28,"h6",27),r.tc(29,"David Grey "),r.Qb(),r.Rb(30,"p",28),r.tc(31," The meeting is cancelled "),r.Qb(),r.Qb(),r.Qb(),r.Rb(32,"a",23),r.Rb(33,"div",24),r.Nb(34,"img",25),r.Qb(),r.Rb(35,"div",26),r.Rb(36,"h6",27),r.tc(37,"Tim Cook "),r.Qb(),r.Rb(38,"p",28),r.tc(39," New product launch "),r.Qb(),r.Qb(),r.Qb(),r.Rb(40,"a",23),r.Rb(41,"div",24),r.Nb(42,"img",25),r.Qb(),r.Rb(43,"div",26),r.Rb(44,"h6",27),r.tc(45," Johnson "),r.Qb(),r.Rb(46,"p",28),r.tc(47," Upcoming board meeting "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"li",17),r.Rb(49,"a",29),r.Nb(50,"i",30),r.Nb(51,"span",20),r.Qb(),r.Rb(52,"div",31),r.Rb(53,"p",22),r.tc(54,"Notifications"),r.Qb(),r.Rb(55,"a",23),r.Rb(56,"div",24),r.Rb(57,"div",32),r.Nb(58,"i",33),r.Qb(),r.Qb(),r.Rb(59,"div",34),r.Rb(60,"h6",35),r.tc(61,"Application Error"),r.Qb(),r.Rb(62,"p",36),r.tc(63," Just now "),r.Qb(),r.Qb(),r.Qb(),r.Rb(64,"a",23),r.Rb(65,"div",24),r.Rb(66,"div",37),r.Nb(67,"i",38),r.Qb(),r.Qb(),r.Rb(68,"div",34),r.Rb(69,"h6",35),r.tc(70,"Settings"),r.Qb(),r.Rb(71,"p",36),r.tc(72," Private message "),r.Qb(),r.Qb(),r.Qb(),r.Rb(73,"a",23),r.Rb(74,"div",24),r.Rb(75,"div",39),r.Nb(76,"i",40),r.Qb(),r.Qb(),r.Rb(77,"div",34),r.Rb(78,"h6",35),r.tc(79,"New user registration"),r.Qb(),r.Rb(80,"p",36),r.tc(81," 2 days ago "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(82,"li",41),r.Rb(83,"a",42),r.Nb(84,"img",43),r.Qb(),r.Rb(85,"div",44),r.Rb(86,"a",45),r.Nb(87,"i",46),r.tc(88),r.Qb(),r.Rb(89,"a",47),r.Nb(90,"i",48),r.tc(91),r.Qb(),r.Rb(92,"a",49),r.Zb("click",(function(){return t.logout()})),r.Nb(93,"i",50),r.tc(94," Logout "),r.Qb(),r.Rb(95,"a",47),r.Rb(96,"div",51),r.Zb("click",(function(){return t.addTheme("success")})),r.Qb(),r.Rb(97,"div",52),r.Zb("click",(function(){return t.addTheme("primary")})),r.Qb(),r.Rb(98,"div",53),r.Zb("click",(function(){return t.addTheme("info")})),r.Qb(),r.Rb(99,"div",54),r.Zb("click",(function(){return t.addTheme("warning")})),r.Qb(),r.Rb(100,"div",55),r.Zb("click",(function(){return t.addTheme("danger")})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(101,"button",56),r.Rb(102,"span",57),r.Zb("click",(function(){return t.toggleSidebar()})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(103,"div",58),r.Rb(104,"div",59),r.Nb(105,"router-outlet"),r.Qb(),r.Rb(106,"footer",60),r.Rb(107,"div",61),r.Rb(108,"span",62),r.tc(109,"Copyright \xa9 2019"),r.Rb(110,"a",63),r.tc(111,"Urbanui"),r.Qb(),r.tc(112,". All rights reserved."),r.Qb(),r.Rb(113,"span",64),r.tc(114,"Designed by: UrbanUI"),r.Nb(115,"i",65),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Db("sidebar-icon-only",t.hideSidebar),r.zb(1),r.ec("hideSidebar",t.hideSidebar),r.zb(83),r.ec("src",t.userDetail.image,r.nc),r.zb(4),r.wc(" ",t.userDetail.firstName," ",t.userDetail.lastName," "),r.zb(3),r.vc(" ",t.userDetail.email," "))},directives:[u,a.e,a.g],styles:["app-sidebar[_ngcontent-%COMP%]{z-index:100}.box[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin:1px}"]}),e})();var h=i("PSD3"),p=i.n(h),m=i("qgFi"),f=i("zyuS");const v=[{symbol:"MO",name:"Monthly",duration:"Month"},{symbol:"HF",name:"Quarterly",duration:"Four Month"},{symbol:"HF",name:"Half Yearly",duration:"Six Month"},{symbol:"AN",name:"Anual",duration:"Year"}];var R=i("9Egf"),Q=i("3Pt+");const k=["close"];function w(e,t){if(1&e&&(r.Rb(0,"div"),r.Rb(1,"p",59),r.tc(2),r.Qb(),r.Qb()),2&e){const e=t.$implicit;r.zb(2),r.vc("",e.name," ")}}function y(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",2),r.Rb(1,"div",3),r.Rb(2,"div",4),r.Rb(3,"div",49),r.Rb(4,"div",50),r.Rb(5,"h4",51),r.Nb(6,"i",13),r.tc(7),r.Qb(),r.Rb(8,"div",52),r.Rb(9,"p",53),r.tc(10,"Max Calander : "),r.Rb(11,"span",54),r.tc(12),r.Qb(),r.Qb(),r.Rb(13,"p",55),r.tc(14,"Max Service : "),r.Rb(15,"span",54),r.tc(16),r.Qb(),r.Qb(),r.Rb(17,"p",56),r.tc(18," Price : "),r.Rb(19,"span",54),r.tc(20),r.Qb(),r.Qb(),r.Rb(21,"p",56),r.tc(22,"Discount : "),r.Rb(23,"span",54),r.tc(24),r.Qb(),r.Qb(),r.Rb(25,"p",57),r.tc(26,"Features"),r.Qb(),r.rc(27,w,3,1,"div",58),r.Rb(28,"p",55),r.tc(29,"Description"),r.Qb(),r.Rb(30,"p",59),r.tc(31),r.Qb(),r.Qb(),r.Rb(32,"p",60),r.Rb(33,"button",61),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().edit(i)})),r.Nb(34,"i",62),r.tc(35," Edit"),r.Qb(),r.tc(36," \xa0 "),r.Rb(37,"button",63),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().delete(i._id)})),r.Nb(38,"i",64),r.tc(39," Delete"),r.Qb(),r.tc(40," \xa0 "),r.Rb(41,"button",65),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().duplicate(i)})),r.Nb(42,"i",66),r.tc(43," Duplicate"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=t.$implicit;r.zb(7),r.vc("\xa0\xa0 ",e.name,""),r.zb(5),r.uc(e.noOfCalendar),r.zb(4),r.uc(e.noOfService),r.zb(4),r.wc("",e.price," \xa0",e.currencySymbol,""),r.zb(4),r.vc("",e.discount," \xa0% "),r.zb(3),r.ec("ngForOf",e.packageFeature),r.zb(4),r.vc(" ",e.description,"")}}function x(e,t){1&e&&(r.Rb(0,"span",67),r.tc(1,"This field is required"),r.Qb())}function M(e,t){1&e&&(r.Rb(0,"span",67),r.tc(1,"This field is required"),r.Qb())}function P(e,t){1&e&&(r.Rb(0,"span",67),r.tc(1,"This field is required"),r.Qb())}function z(e,t){1&e&&(r.Rb(0,"span",67),r.tc(1,"This field is required"),r.Qb())}function O(e,t){if(1&e&&(r.Rb(0,"option",68),r.tc(1),r.Qb()),2&e){const e=t.$implicit;r.ec("value",e.code),r.zb(1),r.uc(e.name)}}function C(e,t){if(1&e&&(r.Rb(0,"option",68),r.tc(1),r.Qb()),2&e){const e=t.$implicit;r.ec("value",e.symbol),r.zb(1),r.uc(e.name)}}function I(e,t){1&e&&(r.Rb(0,"span",67),r.tc(1,"This field is required"),r.Qb())}function S(e,t){if(1&e&&(r.Rb(0,"div",19),r.Rb(1,"div",40),r.Rb(2,"div"),r.Rb(3,"label",69),r.Nb(4,"input",70),r.tc(5),r.Nb(6,"i",71),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){const e=t.$implicit,i=r.bc();r.zb(2),r.Cb("form-check form-check-",i.theme,""),r.zb(2),r.fc("name",e._id),r.ec("ngModel",i.serviceModel(i.package.packageFeature,e._id)),r.zb(1),r.vc(" ",e.name," ")}}let N=(()=>{class e{constructor(e,t,i,n){this.bs=e,this.router=t,this.os=i,this.themeChangeService=n,this.currency=f.a,this.period=v,this.package=new m.a}ngOnInit(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.allPackage(),this.allPackageFeatureOfUser(),this.themeChange(),console.log(this.currency)}themeChange(){this.themeChangeService.themeLoad$.subscribe(e=>this.theme=e)}edit(e){this.package=e}updatepackage(e){e.value._id=this.package._id;var t=[],i=0;for(var n in e.value.packageFeature)!0===e.value.packageFeature[n]&&(t[i++]=n);e.value.packageFeature=t,this.bs.updatePackage(e.value).subscribe(e=>{this.closebtn.nativeElement.click(),this.allPackage(),this.os.swall("success",e.message),this.package=new m.a},e=>{console.log(e)})}allPackage(){this.bs.allPackage().subscribe(e=>{this.allpackage=e,console.log(e)},e=>{console.log(e)})}allPackageFeatureOfUser(){this.bs.allPackageFeature().subscribe(e=>{this.allPackageFeature=e},e=>{console.log(e)})}addpackage(){var e=new m.a;e.name="New package",e.noOfCalendar=2,e.noOfService=10,e.price=10,e.collectionPeriod="MO",e.currencySymbol="INR",e.discount=0,e.description="New package description",this.bs.addPackage(e).subscribe(e=>{this.allPackage(),this.os.swall("success",e.message)},e=>{console.log(e)})}delete(e){p.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}}).then(t=>{t.value&&this.bs.deletePackage({id:e}).subscribe(e=>{this.allPackage(),this.os.swall(e.type,e.message)},e=>{console.log(e)})})}duplicate(e){delete e._id,this.bs.dupPackage(e).subscribe(e=>{this.allPackage(),this.os.swall("success",e.message)},e=>{console.log(e)})}serviceModel(e,t){for(let i in e)if(e[i]._id==t)return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(o.a),r.Mb(a.b),r.Mb(R.a),r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-package"]],viewQuery:function(e,t){var i;1&e&&r.pc(k,!0),2&e&&r.hc(i=r.ac())&&(t.closebtn=i.first)},decls:87,vars:26,consts:[[1,"row"],["class","col-md-4 grid-margin stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"d-sm-flex","flex-row","flex-wrap","text-center","text-sm-left","align-items-center"],[3,"click"],[1,"fa","fa-plus-circle"],["id","exampleModal-4","tabindex","-1","role","dialog","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],[1,"fa","fa","fa-superpowers"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"forms-sample",3,"ngSubmit"],["tempForm","ngForm"],[1,"modal-body"],[1,"form-group","row"],[1,"col-6","col-form-label"],[1,"col-6"],["name","name","type","text","required","",1,"form-control",3,"ngModel"],["name","ngModel"],["class","code-help",4,"ngIf"],["name","noOfCalendar","type","number","required","",1,"form-control",3,"ngModel"],["noOfCalendar","ngModel"],["name","noOfService","type","number","required","",1,"form-control",3,"ngModel"],["noOfService","ngModel"],["name","price","type","number","required","",1,"form-control",3,"ngModel"],["price","ngModel"],["name","currencySymbol","required","",1,"form-control",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","collectionPeriod","required","",1,"form-control",3,"ngModel"],[1,"input-group"],["name","discount","type","number","required","",1,"form-control",3,"ngModel"],["discount","ngModel"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"col-12","col-form-label"],[1,"col-12"],["rows","5","name","description",1,"form-control",3,"ngModel"],["desc","ngModel"],["ngModelGroup","packageFeature"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",3,"disabled"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary","btn-fw"],["close",""],[1,"d-sm-flex","flex-row","flex-wrap","text-sm-left","align-items-center"],[1,"ml-sm-3","ml-md-0","ml-xl-3","mt-2","mt-sm-0","mt-md-2","mt-xl-0"],[1,"mb-1"],[1,"desc"],[1,"mb-1","text-primary"],[1,"item-detail"],[1,"mb-1","text-warning"],[1,"mb-1","text-secondry"],[1,"mb-1","text-danger","border-top"],[4,"ngFor","ngForOf"],[1,"mb-1","detail"],[1,"border-top","pt-3","text-justify"],["data-toggle","modal","data-target","#exampleModal-4","type","button",1,"btn","btn-outline-info","btn-fw","btn-sm",3,"click"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-outline-danger","btn-fw",3,"click"],[1,"fa","fa-trash-o"],["type","button",1,"btn","btn-outline-warning","btn-fw",3,"click"],[1,"fa","fa-copy"],[1,"code-help"],[3,"value"],[1,"form-check-label"],["type","checkbox",3,"ngModel","name"],[1,"input-helper"]],template:function(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",0),r.rc(1,y,44,8,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"h1",6),r.Zb("click",(function(){return t.addpackage()})),r.Nb(7,"i",7),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"div",11),r.Rb(12,"h5",12),r.Nb(13,"i",13),r.tc(14),r.Qb(),r.Rb(15,"button",14),r.Rb(16,"span",15),r.tc(17,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"form",16,17),r.Zb("ngSubmit",(function(){r.lc(e);const i=r.ic(19);return t.updatepackage(i)})),r.Rb(20,"div",18),r.Rb(21,"div",19),r.Rb(22,"label",20),r.tc(23,"Package Name"),r.Qb(),r.Rb(24,"div",21),r.Nb(25,"input",22,23),r.rc(27,x,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(28,"div",19),r.Rb(29,"label",20),r.tc(30,"Max Calendar"),r.Qb(),r.Rb(31,"div",21),r.Nb(32,"input",25,26),r.rc(34,M,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(35,"div",19),r.Rb(36,"label",20),r.tc(37,"Max Service"),r.Qb(),r.Rb(38,"div",21),r.Nb(39,"input",27,28),r.rc(41,P,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(42,"div",19),r.Rb(43,"label",20),r.tc(44,"Price"),r.Qb(),r.Rb(45,"div",21),r.Nb(46,"input",29,30),r.rc(48,z,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(49,"div",19),r.Rb(50,"label",20),r.tc(51,"Currency Symbols"),r.Qb(),r.Rb(52,"div",21),r.Rb(53,"select",31),r.rc(54,O,2,2,"option",32),r.Qb(),r.Qb(),r.Qb(),r.Rb(55,"div",19),r.Rb(56,"label",20),r.tc(57,"Collection Period"),r.Qb(),r.Rb(58,"div",21),r.Rb(59,"select",33),r.rc(60,C,2,2,"option",32),r.Qb(),r.Qb(),r.Qb(),r.Rb(61,"div",19),r.Rb(62,"label",20),r.tc(63,"Discount"),r.Qb(),r.Rb(64,"div",21),r.Rb(65,"div",34),r.Nb(66,"input",35,36),r.Rb(68,"div",37),r.Rb(69,"span",38),r.tc(70,"%"),r.Qb(),r.Qb(),r.Qb(),r.rc(71,I,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(72,"div",19),r.Rb(73,"label",39),r.tc(74,"Description"),r.Qb(),r.Rb(75,"div",40),r.Rb(76,"textarea",41,42),r.tc(78),r.Qb(),r.Qb(),r.Qb(),r.Rb(79,"div",43),r.rc(80,S,7,6,"div",44),r.Qb(),r.Qb(),r.Rb(81,"div",45),r.Rb(82,"button",46),r.tc(83,"Update"),r.Qb(),r.Rb(84,"button",47,48),r.tc(86,"Close"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=r.ic(19),i=r.ic(26),n=r.ic(33),a=r.ic(40),c=r.ic(47),b=r.ic(67);r.zb(1),r.ec("ngForOf",t.allpackage),r.zb(5),r.Cb("text-center text-",t.theme,""),r.zb(8),r.vc(" \xa0\xa0 ",i.value," "),r.zb(11),r.ec("ngModel",t.package.name),r.zb(2),r.ec("ngIf",(null==i?null:i.touched)&&(null==i||null==i.errors?null:i.errors.required)),r.zb(5),r.ec("ngModel",t.package.noOfCalendar),r.zb(2),r.ec("ngIf",(null==n?null:n.touched)&&(null==n||null==n.errors?null:n.errors.required)),r.zb(5),r.ec("ngModel",t.package.noOfService),r.zb(2),r.ec("ngIf",(null==a?null:a.touched)&&(null==a||null==a.errors?null:a.errors.required)),r.zb(5),r.ec("ngModel",t.package.price),r.zb(2),r.ec("ngIf",(null==c?null:c.touched)&&(null==c||null==c.errors?null:c.errors.required)),r.zb(5),r.ec("ngModel",t.package.currencySymbol),r.zb(1),r.ec("ngForOf",t.currency),r.zb(5),r.ec("ngModel",t.package.collectionPeriod),r.zb(1),r.ec("ngForOf",t.period),r.zb(6),r.ec("ngModel",t.package.discount),r.zb(5),r.ec("ngIf",(null==b?null:b.touched)&&(null==b||null==b.errors?null:b.errors.required)),r.zb(5),r.ec("ngModel",t.package.description),r.zb(2),r.uc(t.package.description),r.zb(2),r.ec("ngForOf",t.allPackageFeature),r.zb(2),r.Cb("btn btn-outline-",t.theme," btn-fw"),r.ec("disabled",!e.valid)}},directives:[n.i,Q.u,Q.i,Q.j,Q.b,Q.q,Q.h,Q.k,n.j,Q.n,Q.r,Q.l,Q.m,Q.t,Q.a],styles:[".swal2-styled.swal2-confirm[_ngcontent-%COMP%]{background-color:#389466!important}i.fa.fa-plus-circle[_ngcontent-%COMP%]{font-size:176px;cursor:pointer}div.desc[_ngcontent-%COMP%]{height:300px;overflow-y:hidden}div.desc[_ngcontent-%COMP%]:hover{overflow-y:scroll}.detail[_ngcontent-%COMP%]{font-size:12px}.text-center[_ngcontent-%COMP%]{text-align:center;width:100%}.right[_ngcontent-%COMP%]{float:right}.btn[_ngcontent-%COMP%]{margin-top:5px}.item-detail[_ngcontent-%COMP%]{color:#389466}"]}),e})();var F=i("lJxs");let _=(()=>{class e{transform(e,t){return t?e.filter(e=>{if(-1!=(e.firstName+" "+e.email+" "+e.lastName+" "+e.phone+" "+e.status).toLowerCase().search(t))return!0}):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Lb({name:"filter",type:e,pure:!0}),e})();function D(e,t){if(1&e){const e=r.Sb();r.Pb(0),r.Rb(1,"td"),r.tc(2),r.Qb(),r.Rb(3,"td"),r.tc(4),r.Qb(),r.Rb(5,"td"),r.tc(6),r.Qb(),r.Rb(7,"td"),r.tc(8),r.Qb(),r.Rb(9,"td",17),r.Rb(10,"label"),r.tc(11),r.Qb(),r.Qb(),r.Rb(12,"td"),r.Rb(13,"div",18),r.Rb(14,"button",19),r.Zb("click",(function(){r.lc(e);const t=r.bc().$implicit;return r.bc().detail(t._id)})),r.tc(15,"Detail"),r.Qb(),r.Qb(),r.Qb(),r.Ob()}if(2&e){const e=r.bc(),t=e.index,i=e.$implicit,n=r.bc();r.zb(2),r.vc(" ",t+1,""),r.zb(2),r.vc(" ",i.name,""),r.zb(2),r.vc("",i.email," "),r.zb(2),r.vc("",i.phone," "),r.zb(2),r.Cb("badge badge-gradient-",i.status,""),r.zb(1),r.uc(i.status),r.zb(3),r.Cb("btn btn-outline-",n.theme,"")}}function U(e,t){if(1&e&&(r.Rb(0,"tr"),r.rc(1,D,16,11,"ng-container",16),r.Qb()),2&e){const e=t.index,i=r.bc();r.zb(1),r.ec("ngIf",e>=i.start&&e<=i.end)}}let Z=(()=>{class e{constructor(e,t,i,n){this.bs=e,this.router=t,this.os=i,this.themeChangeService=n,this.start=0,this.end=9}ngOnInit(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.themeChange(),this.allUserFun()}allUserFun(){this.bs.allUsers().pipe(Object(F.a)(e=>this.prepareuaerData(e))).subscribe(e=>{this.allUser=e,console.log(e)},e=>{console.log(e)})}prepareuaerData(e){for(let t in e)e[t].name=e[t].firstName+" "+e[t].lastName;return e}themeChange(){this.themeChangeService.themeLoad$.subscribe(e=>this.theme=e)}prev(){0!=this.start&&(this.start=this.start-10,this.end=this.end-10)}next(){if(this.allUser.length>this.end+1){let e=this.allUser.length-this.end,t=this.allUser.length%10;(e>4||e>t)&&(this.start=this.start+10,this.end=this.end+10)}}detail(e){console.log(e),this.router.navigate(["admin/user-detail/"+e])}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(o.a),r.Mb(a.b),r.Mb(R.a),r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-users"]],decls:32,vars:9,consts:[[1,"row"],[1,"col-12","card"],[1,"card-body"],[1,"fc-toolbar","fc-header-toolbar"],[1,"fc-left"],["type","text","ngModel","","placeholder","Search",1,"form-control","search-ch",3,"ngModel","ngModelChange"],[1,"fc-center"],[1,"fc-right"],[1,"fc-button-group"],["type","button","aria-label","prev",1,"fc-prev-button","fc-button","fc-button-primary",3,"disabled","click"],[1,"fc-icon","fc-icon-chevron-left"],["type","button","aria-label","next",1,"fc-next-button","fc-button","fc-button-primary",3,"disabled","click"],[1,"fc-icon","fc-icon-chevron-right"],[1,"table-responsive","pt-3"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"center"],[1,"btn-group"],["type","button",3,"click"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"input",5),r.Zb("ngModelChange",(function(e){return t.searchKey=e})),r.Qb(),r.Qb(),r.Nb(6,"div",6),r.Rb(7,"div",7),r.Rb(8,"div",8),r.Rb(9,"button",9),r.Zb("click",(function(){return t.prev()})),r.Nb(10,"span",10),r.Qb(),r.Rb(11,"button",11),r.Zb("click",(function(){return t.next()})),r.Nb(12,"span",12),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(13,"div",13),r.Rb(14,"table",14),r.Rb(15,"thead"),r.Rb(16,"tr"),r.Rb(17,"th"),r.tc(18," #"),r.Qb(),r.Rb(19,"th"),r.tc(20," Name"),r.Qb(),r.Rb(21,"th"),r.tc(22," Email"),r.Qb(),r.Rb(23,"th"),r.tc(24," Phone No "),r.Qb(),r.Rb(25,"th"),r.tc(26," Status "),r.Qb(),r.Rb(27,"th"),r.tc(28," Action"),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"tbody"),r.rc(30,U,2,1,"tr",15),r.cc(31,"filter"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.zb(5),r.Db("field-ch",!!t.searchKey),r.ec("ngModel",t.searchKey),r.zb(4),r.ec("disabled",!1),r.zb(2),r.ec("disabled",!1),r.zb(19),r.ec("ngForOf",r.dc(31,6,t.allUser,t.searchKey)))},directives:[Q.b,Q.h,Q.k,n.i,n.j],pipes:[_],styles:[".swal2-styled.swal2-confirm[_ngcontent-%COMP%]{background-color:#389466!important}i.fa.fa-plus-circle[_ngcontent-%COMP%]{font-size:176px;cursor:pointer}div.desc[_ngcontent-%COMP%]{height:100px;overflow-y:hidden}div.desc[_ngcontent-%COMP%]:hover{overflow-y:scroll}.detail[_ngcontent-%COMP%]{font-size:12px}.text-center[_ngcontent-%COMP%]{text-align:center;width:100%}.right[_ngcontent-%COMP%]{float:right}.btn[_ngcontent-%COMP%]{margin-top:5px}.search-ch[_ngcontent-%COMP%]{max-width:250px}td[_ngcontent-%COMP%]{padding:5px 10px}td.center[_ngcontent-%COMP%]{text-align:center}.badge-gradient-active[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#389466,#42b883)}.badge-gradient-inactive[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#d24571,#580e53)}"]}),e})();var A=i("QNcV");let q=(()=>{class e{constructor(e,t){this.as=e,this.router=t,this.role=this.as.logedIn(),this.as.chkAuthariseUser({})}canActivate(){return"admin"==this.role||(localStorage.removeItem("token"),this.router.navigate(["/login"]),!1)}canActivateChild(){return"admin"==this.role||(localStorage.removeItem("token"),this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(r.Vb(A.a),r.Vb(a.b))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class T{}const $=["close"];function j(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",2),r.Rb(1,"div",3),r.Rb(2,"div",4),r.Rb(3,"div",31),r.Rb(4,"div",32),r.Rb(5,"h4",33),r.Nb(6,"i",13),r.tc(7),r.Qb(),r.Rb(8,"div",34),r.Rb(9,"p",35),r.tc(10,"Description"),r.Qb(),r.Rb(11,"p",36),r.tc(12),r.Qb(),r.Qb(),r.Rb(13,"p",37),r.Rb(14,"button",38),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().edit(i)})),r.Nb(15,"i",39),r.tc(16," Edit"),r.Qb(),r.tc(17," \xa0 "),r.Rb(18,"button",40),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().delete(i._id)})),r.Nb(19,"i",41),r.tc(20," Delete"),r.Qb(),r.tc(21," \xa0 "),r.Rb(22,"button",42),r.Zb("click",(function(){r.lc(e);const i=t.$implicit;return r.bc().duplicate(i)})),r.Nb(23,"i",43),r.tc(24," Duplicate"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=t.$implicit;r.zb(7),r.vc("\xa0\xa0 ",e.name,""),r.zb(5),r.vc(" ",e.description,"")}}function L(e,t){1&e&&(r.Rb(0,"span",44),r.tc(1,"This field is required"),r.Qb())}let B=(()=>{class e{constructor(e,t,i,n){this.bs=e,this.router=t,this.os=i,this.themeChangeService=n,this.packageFeature=new T}ngOnInit(){this.theme=localStorage.getItem("theme"),this.userId=this.bs.token().id,this.allpackageFeatureOfUser(),this.themeChange()}themeChange(){this.themeChangeService.themeLoad$.subscribe(e=>this.theme=e)}edit(e){this.packageFeature=e}updatepackageFeature(e){e.value._id=this.packageFeature._id;var t=[],i=0;for(var n in e.value.service)!0===e.value.service[n]&&(t[i++]=n);e.value.service=t,this.bs.updatePackageFeature(e.value).subscribe(e=>{this.closebtn.nativeElement.click(),this.allpackageFeatureOfUser(),this.os.swall("success",e.message),this.packageFeature=new T},e=>{console.log(e)})}allpackageFeatureOfUser(){this.bs.allPackageFeature().subscribe(e=>{console.log(e),this.allpackageFeature=e},e=>{console.log(e)})}addpackageFeature(){var e=new T;e.name="New Package Feature",e.description="New Package Feature description",this.bs.addPackageFeature(e).subscribe(e=>{this.allpackageFeatureOfUser(),this.os.swall("success",e.message)},e=>{console.log(e)})}delete(e){p.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",customClass:{popup:"swal-popup-class del-popup-size",header:"header-class",title:"title-class",image:"image-class",actions:"actions-class",confirmButton:"confirm-button-class",cancelButton:"cancel-button-class"}}).then(t=>{t.value&&this.bs.deletePackageFeature({id:e}).subscribe(e=>{this.allpackageFeatureOfUser(),this.os.swall(e.type,e.message)},e=>{console.log(e)})})}duplicate(e){delete e._id,this.bs.dupPackageFeature(e).subscribe(e=>{this.allpackageFeatureOfUser(),this.os.swall("success",e.message)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(o.a),r.Mb(a.b),r.Mb(R.a),r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-package-feature"]],viewQuery:function(e,t){var i;1&e&&r.pc($,!0),2&e&&r.hc(i=r.ac())&&(t.closebtn=i.first)},decls:41,vars:13,consts:[[1,"row"],["class","col-md-4 grid-margin stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"d-sm-flex","flex-row","flex-wrap","text-center","text-sm-left","align-items-center"],[3,"click"],[1,"fa","fa-plus-circle"],["id","exampleModal-4","tabindex","-1","role","dialog","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],[1,"fa","fa","fa-superpowers"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"forms-sample",3,"ngSubmit"],["tempForm","ngForm"],[1,"modal-body"],[1,"form-group","row"],["for","exampleInputUsername2",1,"col-12","col-form-label"],[1,"col-12"],["name","name","type","text","required","",1,"form-control",3,"ngModel"],["name","ngModel"],["class","code-help",4,"ngIf"],["rows","5","name","description",1,"form-control",3,"ngModel"],["desc","ngModel"],[1,"modal-footer"],["type","submit",3,"disabled"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary","btn-fw"],["close",""],[1,"d-sm-flex","flex-row","flex-wrap","text-sm-left","align-items-center"],[1,"ml-sm-3","ml-md-0","ml-xl-3","mt-2","mt-sm-0","mt-md-2","mt-xl-0"],[1,"mb-1"],[1,"desc"],[1,"mb-1","text-warning"],[1,"mb-1","detail"],[1,"border-top","pt-3","text-justify"],["data-toggle","modal","data-target","#exampleModal-4","type","button",1,"btn","btn-outline-info","btn-fw","btn-sm",3,"click"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-outline-danger","btn-fw",3,"click"],[1,"fa","fa-trash-o"],["type","button",1,"btn","btn-outline-warning","btn-fw",3,"click"],[1,"fa","fa-copy"],[1,"code-help"]],template:function(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",0),r.rc(1,j,25,2,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"h1",6),r.Zb("click",(function(){return t.addpackageFeature()})),r.Nb(7,"i",7),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"div",11),r.Rb(12,"h5",12),r.Nb(13,"i",13),r.tc(14),r.Qb(),r.Rb(15,"button",14),r.Rb(16,"span",15),r.tc(17,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"form",16,17),r.Zb("ngSubmit",(function(){r.lc(e);const i=r.ic(19);return t.updatepackageFeature(i)})),r.Rb(20,"div",18),r.Rb(21,"div",19),r.Rb(22,"label",20),r.tc(23,"Service Name"),r.Qb(),r.Rb(24,"div",21),r.Nb(25,"input",22,23),r.rc(27,L,2,0,"span",24),r.Qb(),r.Qb(),r.Rb(28,"div",19),r.Rb(29,"label",20),r.tc(30,"Description"),r.Qb(),r.Rb(31,"div",21),r.Rb(32,"textarea",25,26),r.tc(34),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(35,"div",27),r.Rb(36,"button",28),r.tc(37,"Update"),r.Qb(),r.Rb(38,"button",29,30),r.tc(40,"Close"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=r.ic(19),i=r.ic(26);r.zb(1),r.ec("ngForOf",t.allpackageFeature),r.zb(5),r.Cb("text-center text-",t.theme,""),r.zb(8),r.vc(" \xa0\xa0 ",i.value,""),r.zb(11),r.ec("ngModel",t.packageFeature.name),r.zb(2),r.ec("ngIf",(null==i?null:i.touched)&&(null==i||null==i.errors?null:i.errors.required)),r.zb(5),r.ec("ngModel",t.packageFeature.description),r.zb(2),r.uc(t.packageFeature.description),r.zb(2),r.Cb("btn btn-outline-",t.theme," btn-fw"),r.ec("disabled",!e.valid)}},directives:[n.i,Q.u,Q.i,Q.j,Q.b,Q.q,Q.h,Q.k,n.j],styles:[".swal2-styled.swal2-confirm[_ngcontent-%COMP%]{background-color:#389466!important}i.fa.fa-plus-circle[_ngcontent-%COMP%]{font-size:176px;cursor:pointer}div.desc[_ngcontent-%COMP%]{height:100px;overflow-y:hidden}div.desc[_ngcontent-%COMP%]:hover{overflow-y:scroll}.detail[_ngcontent-%COMP%]{font-size:12px}.text-center[_ngcontent-%COMP%]{text-align:center;width:100%}.right[_ngcontent-%COMP%]{float:right}.btn[_ngcontent-%COMP%]{margin-top:5px}"]}),e})();var H=i("mrSG"),E=i("MT0H");function G(e,t){if(1&e&&(r.Rb(0,"button",22),r.tc(1),r.Qb()),2&e){const e=r.bc(2);r.zb(1),r.uc(e.user.status)}}function J(e,t){if(1&e&&(r.Rb(0,"button",23),r.tc(1),r.Qb()),2&e){const e=r.bc(2);r.zb(1),r.uc(e.user.status)}}function K(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",7),r.Rb(1,"div",8),r.Rb(2,"div",9),r.Rb(3,"div",10),r.Nb(4,"img",11),r.Rb(5,"h4",12),r.tc(6),r.Qb(),r.Nb(7,"p",13),r.Nb(8,"h4"),r.Rb(9,"p"),r.rc(10,G,2,1,"button",14),r.rc(11,J,2,1,"button",15),r.Rb(12,"button",16),r.Zb("click",(function(){return r.lc(e),r.bc().changeStatus()})),r.Nb(13,"i",17),r.tc(14," Change Status"),r.Qb(),r.Qb(),r.Nb(15,"h4"),r.Qb(),r.Rb(16,"div",18),r.Rb(17,"div",0),r.Rb(18,"div",19),r.Rb(19,"h6",20),r.tc(20,"User Name"),r.Qb(),r.Qb(),r.Rb(21,"div",21),r.Rb(22,"p"),r.tc(23),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"div",0),r.Rb(25,"div",19),r.Rb(26,"h6",20),r.tc(27,"Email"),r.Qb(),r.Qb(),r.Rb(28,"div",21),r.Rb(29,"p"),r.tc(30),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",0),r.Rb(32,"div",19),r.Rb(33,"h6",20),r.tc(34,"Pnone No"),r.Qb(),r.Qb(),r.Rb(35,"div",21),r.Rb(36,"p"),r.tc(37),r.Qb(),r.Qb(),r.Qb(),r.Rb(38,"div",0),r.Rb(39,"div",19),r.Rb(40,"h6",20),r.tc(41,"Registred At"),r.Qb(),r.Qb(),r.Rb(42,"div",21),r.Rb(43,"p"),r.tc(44),r.cc(45,"date"),r.cc(46,"date"),r.Qb(),r.Qb(),r.Qb(),r.Rb(47,"div",0),r.Rb(48,"div",19),r.Rb(49,"h6",20),r.tc(50,"Updated At"),r.Qb(),r.Qb(),r.Rb(51,"div",21),r.Rb(52,"p"),r.tc(53),r.cc(54,"date"),r.cc(55,"date"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=r.bc();r.zb(4),r.ec("src",e.user.image,r.nc),r.zb(2),r.wc("",e.user.firstName,"\xa0",e.user.lastName,""),r.zb(4),r.ec("ngIf","active"==e.user.status),r.zb(1),r.ec("ngIf","active"!=e.user.status),r.zb(12),r.wc("",e.user.firstName,"\xa0",e.user.lastName,""),r.zb(7),r.uc(e.user.email),r.zb(7),r.uc(e.user.phone),r.zb(7),r.wc("",r.dc(45,13,e.user.createdAt,"MMM d, y")," | ",r.dc(46,16,e.user.createdAt,"shortTime"),""),r.zb(9),r.wc("",r.dc(54,19,e.user.updatedAt,"MMM d, y")," | ",r.dc(55,22,e.user.updatedAt,"shortTime"),"")}}function Y(e,t){if(1&e&&(r.Rb(0,"span"),r.tc(1),r.Qb()),2&e){const e=r.bc().index;r.zb(1),r.vc(" ",e+1,"")}}function V(e,t){1&e&&r.Nb(0,"i",35)}function X(e,t){if(1&e&&(r.Rb(0,"tr"),r.Rb(1,"td",32),r.rc(2,Y,2,1,"span",33),r.rc(3,V,1,0,"i",34),r.Qb(),r.Rb(4,"td"),r.tc(5),r.Qb(),r.Rb(6,"td"),r.tc(7),r.cc(8,"date"),r.Qb(),r.Rb(9,"td"),r.tc(10),r.cc(11,"date"),r.Qb(),r.Qb()),2&e){const e=t.$implicit;r.zb(1),r.Db("success","active"==e.status),r.zb(1),r.ec("ngIf","inactive"==e.status),r.zb(1),r.ec("ngIf","active"==e.status),r.zb(2),r.vc(" ",e.packageId.name,""),r.zb(2),r.vc(" ",r.dc(8,7,e.startDate,"MMM d, y"),""),r.zb(3),r.vc(" ",r.dc(11,10,e.endDate,"MMM d, y"),"")}}function W(e,t){if(1&e&&(r.Rb(0,"div",24),r.Rb(1,"div",25),r.Rb(2,"div",26),r.Rb(3,"h4",27),r.tc(4,"Package History"),r.Qb(),r.Nb(5,"p",28),r.Rb(6,"div",29),r.Rb(7,"table",30),r.Rb(8,"thead"),r.Rb(9,"tr"),r.Rb(10,"th"),r.tc(11," Sn "),r.Qb(),r.Rb(12,"th"),r.tc(13,"Package name"),r.Qb(),r.Rb(14,"th"),r.tc(15,"Start Date "),r.Qb(),r.Rb(16,"th"),r.tc(17," End date"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"tbody"),r.rc(19,X,12,13,"tr",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){const e=r.bc();r.zb(19),r.ec("ngForOf",e.allPackagehistory)}}function ee(e,t){if(1&e&&(r.Rb(0,"option",42),r.tc(1),r.Qb()),2&e){const e=t.$implicit;r.ec("value",e._id),r.zb(1),r.uc(e.name)}}function te(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",7),r.Rb(1,"div",8),r.Rb(2,"div",9),r.Rb(3,"h4",36),r.tc(4,"Change Package"),r.Qb(),r.Rb(5,"div",18),r.Rb(6,"div",0),r.Rb(7,"div",19),r.Rb(8,"h6",20),r.tc(9,"Package"),r.Qb(),r.Qb(),r.Rb(10,"div",21),r.Rb(11,"p"),r.Rb(12,"select",37),r.Zb("ngModelChange",(function(t){return r.lc(e),r.bc().selectedPackageId=t})),r.rc(13,ee,2,2,"option",38),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",0),r.Rb(15,"div",19),r.Rb(16,"h6",20),r.tc(17,"Duration ( in month )"),r.Qb(),r.Qb(),r.Rb(18,"div",21),r.Rb(19,"p"),r.Rb(20,"input",39),r.Zb("ngModelChange",(function(t){return r.lc(e),r.bc().selectedNoOfMonth=t})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"div",0),r.Nb(22,"div",19),r.Rb(23,"div",21),r.Rb(24,"p",40),r.Rb(25,"button",41),r.Zb("click",(function(){return r.lc(e),r.bc().changePackage()})),r.tc(26," Apply "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=r.bc();r.zb(12),r.ec("ngModel",e.selectedPackageId),r.zb(1),r.ec("ngForOf",e.allpackage),r.zb(7),r.ec("ngModel",e.selectedNoOfMonth),r.zb(5),r.Cb("btn btn-",e.theme," btn-fw mt-1 mb-2 ml-2")}}function ie(e,t){if(1&e){const e=r.Sb();r.Rb(0,"button",46),r.Zb("click",(function(){r.lc(e);const t=r.bc().$implicit;return r.bc(2).startBooking(!0,t._id)})),r.tc(1,"Start"),r.Qb()}}function ne(e,t){if(1&e){const e=r.Sb();r.Rb(0,"button",47),r.Zb("click",(function(){r.lc(e);const t=r.bc().$implicit;return r.bc(2).startBooking(!1,t._id)})),r.tc(1,"started"),r.Qb()}}function ae(e,t){if(1&e&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.tc(2),r.Qb(),r.Rb(3,"td"),r.tc(4),r.Rb(5,"span",20),r.tc(6),r.Qb(),r.Qb(),r.Rb(7,"td"),r.tc(8),r.Qb(),r.Rb(9,"td"),r.tc(10),r.Qb(),r.Rb(11,"td"),r.tc(12),r.Qb(),r.Rb(13,"td"),r.rc(14,ie,2,0,"button",44),r.rc(15,ne,2,0,"button",45),r.Qb(),r.Qb()),2&e){const e=t.$implicit;r.zb(2),r.vc(" ",e.name,""),r.zb(2),r.vc(" ",e.duration," \xa0 \xa0 | \xa0 \xa0 "),r.zb(2),r.uc(e.rest),r.zb(2),r.vc(" ",e.price," "),r.zb(2),r.vc(" ",e.maxAllowed,""),r.zb(2),r.vc(" ",e.maxAdvanceBookingDay," Day"),r.zb(2),r.ec("ngIf",!e.started),r.zb(1),r.ec("ngIf",e.started)}}function ce(e,t){if(1&e&&(r.Rb(0,"div",24),r.Rb(1,"div",25),r.Rb(2,"div",26),r.Rb(3,"h4",27),r.tc(4,"Service"),r.Qb(),r.Rb(5,"div",29),r.Rb(6,"table",43),r.Rb(7,"thead"),r.Rb(8,"tr"),r.Rb(9,"th"),r.tc(10,"Name"),r.Qb(),r.Rb(11,"th"),r.tc(12,"Duration"),r.Qb(),r.Rb(13,"th"),r.tc(14,"Price"),r.Qb(),r.Rb(15,"th"),r.tc(16,"Max Allowed"),r.Qb(),r.Rb(17,"th"),r.tc(18,"Advance Booking"),r.Qb(),r.Rb(19,"th"),r.tc(20,"Status"),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"tbody"),r.rc(22,ae,16,8,"tr",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){const e=r.bc();r.zb(22),r.ec("ngForOf",e.allService)}}let be=(()=>{class e{constructor(e,t,i,n,a,c){this.router=e,this.bs=t,this.os=i,this.calc=n,this.actroute=a,this.themeChangeService=c,this.selectedItem="profile",this.selectedNoOfMonth=1,this.user=new b.a}ngOnInit(){this.getId(),this.theme=localStorage.getItem("theme"),this.themeChange(),this.allPackageHistory(),this.allPackage(),this.allServiceOfUser()}allPackageHistory(){console.log(this.userId),this.bs.allPackagehistory({id:this.userId}).subscribe(e=>{this.allPackagehistory=e.reverse();let t=e.filter(e=>"active"==e.status);this.selectedPackageId=this.activePackageId=t[0].packageId._id,this.activeHistoryPackageId=t[0]._id,console.log(this.selectedPackageId)},e=>{console.log(e)})}themeChange(){this.themeChangeService.themeLoad$.subscribe(e=>this.theme=e)}getId(){this.actroute.paramMap.subscribe(e=>{this.userId=e.get("id"),this.userDetail(this.userId)})}userDetail(e){this.bs.userById(e).subscribe(e=>{this.user=e},e=>{console.log(e)})}editProfile(){}changeStatus(){let e="";e="active"==this.user.status?"inactive":"active",this.bs.updateProfile({_id:this.user._id,status:e}).subscribe(e=>{"success"==e.type?(this.userDetail(this.user._id),this.os.swall("success",e.message)):this.os.swall("error",e.message)},e=>{console.log(e)})}allPackage(){this.bs.allPackage().subscribe(e=>{this.allpackage=e},e=>{console.log(e)})}changePackage(){return Object(H.a)(this,void 0,void 0,(function*(){let e;yield this.makeInactiveOldPackageHistory(),e=0==this.selectedNoOfMonth?{userId:this.userId,packageId:this.selectedPackageId,startDate:new Date}:{userId:this.userId,packageId:this.selectedPackageId,startDate:new Date,endDate:new Date((new Date).getTime()+30*this.selectedNoOfMonth*24*60*60*1e3)},this.bs.addPackagehistory(e).subscribe(e=>{this.allPackageHistory(),this.os.swall("success",e.message)},e=>{console.log(e)})}))}makeInactiveOldPackageHistory(){this.bs.updatePackagehistory({_id:this.activeHistoryPackageId,status:"inactive"}).subscribe(e=>{console.log(e)},e=>{console.log(e)})}switchTab(e){this.selectedItem=e}allServiceOfUser(){this.bs.allServiceOfUser({userId:this.userId}).subscribe(e=>{this.allService=e,console.log(e)},e=>{console.log(e)})}changeFlag(e){}startBooking(e,t){this.bs.updateService({_id:t,started:e}).subscribe(e=>{this.allServiceOfUser(),this.os.swall("success","Booking For this Service has been started")},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(a.b),r.Mb(o.a),r.Mb(R.a),r.Mb(E.a),r.Mb(a.a),r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-user-detail"]],decls:20,vars:12,consts:[[1,"row"],[1,"col-md-3"],[1,"fc-external-events"],[1,"fc-event",3,"click"],[1,"col-md-9"],["class","profile grid-margin grid-margin-md-0 stretch-card auto",4,"ngIf"],["class","grid-margin grid-margin-md-0 stretch-card auto",4,"ngIf"],[1,"profile","grid-margin","grid-margin-md-0","stretch-card","auto"],[1,"card","mt-100"],[1,"card-body","text-center"],[1,"top-wrap"],["alt","profile image",1,"img-lg-ch","rounded-circle","mb-2",3,"src"],[1,"mt-4","mb-4"],[1,"button-wrap"],["type","button","class","btn btn-success btn-rounded btn-fw",4,"ngIf"],["type","button","class","btn btn-danger btn-rounded btn-fw",4,"ngIf"],["type","button",1,"btn","btn-dark","btn-fw","mt-1","mb-2","ml-2",3,"click"],[1,"fa","fa-pencil-square-o"],[1,"border-top","pt-3"],[1,"col-6","text-left"],[1,"text-warning"],[1,"col-6","text-left","card-description"],["type","button",1,"btn","btn-success","btn-rounded","btn-fw"],["type","button",1,"btn","btn-danger","btn-rounded","btn-fw"],[1,"grid-margin","grid-margin-md-0","stretch-card","auto"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"py-1"],[4,"ngIf"],["class","fa fa-2x fa-check","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-2x","fa-check"],["_ngcontent-com-c62","",1,"card-title"],["name","selectedPackageId","required","",1,"form-control","select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","name","selectedNoOfMonth",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-right"],["type","button",3,"click"],[3,"value"],[1,"table","table-hover"],["type","button","class","btn btn-success btn-rounded btn-fw",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-rounded btn-fw",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","btn-rounded","btn-fw",3,"click"],["type","button",1,"btn","btn-danger","btn-rounded","btn-fw",3,"click"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Zb("click",(function(){return t.switchTab("profile")})),r.Rb(4,"p"),r.tc(5,"Profile"),r.Qb(),r.Qb(),r.Rb(6,"div",3),r.Zb("click",(function(){return t.switchTab("package-history")})),r.Rb(7,"p"),r.tc(8,"Package History"),r.Qb(),r.Qb(),r.Rb(9,"div",3),r.Zb("click",(function(){return t.switchTab("change-package")})),r.Rb(10,"p"),r.tc(11,"Change Package"),r.Qb(),r.Qb(),r.Rb(12,"div",3),r.Zb("click",(function(){return t.switchTab("service")})),r.Rb(13,"p"),r.tc(14,"Srvice"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(15,"div",4),r.rc(16,K,56,25,"div",5),r.rc(17,W,20,1,"div",6),r.rc(18,te,27,6,"div",5),r.rc(19,ce,23,1,"div",6),r.Qb(),r.Qb()),2&e&&(r.zb(3),r.Db("active","profile"==t.selectedItem),r.zb(3),r.Db("active","package-history"==t.selectedItem),r.zb(3),r.Db("active","change-package"==t.selectedItem),r.zb(3),r.Db("active","service"==t.selectedItem),r.zb(4),r.ec("ngIf","profile"==t.selectedItem),r.zb(1),r.ec("ngIf","package-history"==t.selectedItem),r.zb(1),r.ec("ngIf","change-package"==t.selectedItem),r.zb(1),r.ec("ngIf","service"==t.selectedItem))},directives:[n.j,n.i,Q.r,Q.q,Q.h,Q.k,Q.n,Q.b,Q.m,Q.t],pipes:[n.d],styles:["img.img-lg-ch[_ngcontent-%COMP%]{width:200px}h4.mt-4.mb-4[_ngcontent-%COMP%]{text-transform:capitalize}.activePackage[_ngcontent-%COMP%]{background:red}.select[_ngcontent-%COMP%]{border-radius:2px;background-color:#161622}.p-form-wrap[_ngcontent-%COMP%]{border-top:.5px solid #413a3a;padding-top:10px}@media screen and (min-width:769px){.profile[_ngcontent-%COMP%]{max-width:450px;margin:auto}}.card-title[_ngcontent-%COMP%]{text-align:left}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(31,31,35,.8);border:2px solid #fff;display:block}"]}),e})();const re=[{path:"",component:g,children:[{path:"package",component:N},{path:"package-feature",component:B},{path:"users",component:Z},{path:"profile",component:i("8Dg9").a},{path:"user-detail/:id",component:be}],canActivate:[q]}];let oe=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[a.f.forChild(re)],a.f]}),e})();var se=i("IvIE");let le=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[n.b,Q.g,Q.p,se.b,oe]]}),e})()}}]);